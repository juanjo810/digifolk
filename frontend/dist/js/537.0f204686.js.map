{"version":3,"file":"js/537.0f204686.js","mappings":"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","sources":["webpack://digifolk/./src/views/MyProfile.vue","webpack://digifolk/./src/views/MyProfile.vue?9f1a"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <h1>Mi perfil</h1>\r\n    <user-dropdown :user=\"user.userInfo\" :isAdmin=\"isAdmin\" />\r\n    <div class=\"pa-4 text-end\">\r\n      <v-btn class=\"me-2\" @click=\"this.visible = true\"> Change password </v-btn>\r\n      <v-btn @click=\"this.visibleDelete = true\"> Delete account </v-btn>\r\n    </div>\r\n    <v-dialog v-model=\"visible\" max-width=\"500\">\r\n      <v-card>\r\n        <v-container>\r\n          <h2>Modify password</h2>\r\n          <v-card-text>\r\n            <v-text-field\r\n              v-model=\"currentPassword\"\r\n              :append-icon=\"visible3 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible3 ? 'text' : 'password'\"\r\n              label=\"Current password\"\r\n              counter\r\n              @click:append=\"visible3 = !visible3\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"password\"\r\n              :append-icon=\"visible1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible1 ? 'text' : 'password'\"\r\n              label=\"New password\"\r\n              counter\r\n              @click:append=\"visible1 = !visible1\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n              v-model=\"password2\"\r\n              :append-icon=\"visible2 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible2 ? 'text' : 'password'\"\r\n              label=\"Repeat new password\"\r\n              counter\r\n              @click:append=\"visible2 = !visible2\"\r\n            ></v-text-field>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text @click=\"changePassword()\"> Change password </v-btn>\r\n          </v-card-actions>\r\n        </v-container>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog v-model=\"visibleDelete\" persistent max-width=\"600\">\r\n      <v-card>\r\n        <v-container>\r\n          <h2>Delete account</h2>\r\n          <v-card-text>\r\n            <v-row>\r\n              <v-col cols=\"12\">\r\n                <v-text-field\r\n                  v-model=\"email\"\r\n                  label=\"Email\"\r\n                  :rules=\"rulesEmail\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col cols=\"12\">\r\n                <v-text-field\r\n                  v-model=\"password3\"\r\n                  :append-icon=\"visible4 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  :type=\"visible4 ? 'text' : 'password'\"\r\n                  label=\"Password\"\r\n                  counter\r\n                  @click:append=\"visible4 = !visible4\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text @click=\"visibleDelete = false\"> Close </v-btn>\r\n            <v-btn color=\"red\" text @click=\"deleteAccount()\">\r\n              Delete account\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-container>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport UserDropdown from \"@/components/UserDropdown.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    UserDropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      isAdmin: false,\r\n      visible: false,\r\n      visible1: false,\r\n      visible2: false,\r\n      visible3: false,\r\n      visible4: false,\r\n      visibleDelete: false,\r\n      currentPassword: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      email: \"\",\r\n      password3: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"user\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"getUserInfo\",\r\n      \"fetchUsers\",\r\n      \"changeUserPassword\",\r\n      \"removeAccount\",\r\n    ]),\r\n    changePassword() {\r\n      if (this.password.length >= 6 && this.password === this.password2) {\r\n        this.changeUserPassword({\r\n          id: this.user.userInfo.user_id,\r\n          currentPassword: this.currentPassword,\r\n          newPassword: this.password,\r\n        });\r\n        this.visible = false;\r\n      } else {\r\n        this.$store.commit(\r\n          \"CHANGE_PASSWORD_FAILURE\",\r\n          \"Passwords do not match or are too short\"\r\n        );\r\n      }\r\n    },\r\n    deleteAccount() {\r\n      this.removeAccount({ email: this.email, password: this.password3 }).then(\r\n        () => {\r\n          this.visibleDelete = false;\r\n          this.$router.push({ name: \"login\" });\r\n        }\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchUsers();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./MyProfile.vue?vue&type=template&id=ec553624\"\nimport script from \"./MyProfile.vue?vue&type=script&lang=js\"\nexport * from \"./MyProfile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_v_container","_hoisted_1","_createVNode","_component_user_dropdown","user","_ctx","userInfo","isAdmin","$data","_hoisted_2","_component_v_btn","onClick","_cache","$event","visible","visibleDelete","_component_v_dialog","_component_v_card","_hoisted_3","_component_v_card_text","_component_v_text_field","currentPassword","visible3","type","label","counter","password","visible1","password2","visible2","_component_v_card_actions","_component_v_spacer","text","$options","changePassword","persistent","_hoisted_4","_component_v_row","_component_v_col","cols","email","rules","rulesEmail","password3","visible4","color","deleteAccount","components","UserDropdown","data","computed","mapState","methods","mapActions","this","length","changeUserPassword","id","user_id","newPassword","$store","commit","removeAccount","then","$router","push","name","mounted","fetchUsers","__exports__","render"],"sourceRoot":""}