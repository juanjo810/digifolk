"use strict";(self["webpackChunkdigifolk"]=self["webpackChunkdigifolk"]||[]).push([[84],{4084:function(e,l,t){t.r(l),t.d(l,{default:function(){return P}});var i=t(3396),o=t(7139),a=t(6372),d=t(1888),s=t(1334),r=t(3121),u=t(3369),n=t(6824),m=t(8521),c=t(9234),p=t(3289),h=t(7325),b=t(240),_=t(2902);const g=(0,i._)("h1",null,"View piece",-1),f=(0,i._)("h1",null,"Information about the MusicXML file",-1),V=(0,i._)("h2",null,"Contributors",-1),E=(0,i._)("h1",null,"Information about the musical piece",-1),D=(0,i._)("h2",null,"Creators",-1),W=(0,i._)("h2",null,"Contributors",-1),T=(0,i._)("h2",null,"Spatial",-1),U=(0,i._)("h2",null,"Temporal",-1),w={key:0};function v(e,l,t,v,S,y){const C=(0,i.up)("SearchBar"),F=(0,i.up)("v-date-picker");return(0,i.wg)(),(0,i.j4)(u.K,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[g])),_:1}),(0,i.Wm)(m.D,{cols:"8"},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{objects:this.getNamePieces,getInfo:this.loadPieceInfo,typeObject:"pieces"},null,8,["objects","getInfo"])])),_:1})])),_:1}),f,(0,i._)("div",null,[(0,i._)("template",null,[(0,i.Wm)(h.K,{color:"deep-purple",height:"10",indeterminate:""})]),(0,i.Wm)(d.Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.id,"onUpdate:modelValue":l[0]||(l[0]=e=>y.id=e),label:"Identifier",readonly:"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.title,"onUpdate:modelValue":l[1]||(l[1]=e=>y.title=e),label:"Title",rules:S.rules,hint:"Use ' | ', i.e. space colon space, to separate title and subtitle","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.right,"onUpdate:modelValue":l[2]||(l[2]=e=>y.right=e),label:"Rights",items:e.getItemsNameByType(1),disabled:!S.editing},null,8,["modelValue","items","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.creator,"onUpdate:modelValue":l[3]||(l[3]=e=>y.creator=e),label:"Creator",rules:S.rules,disabled:!S.editing},null,8,["modelValue","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(F,{modelValue:S.selectedDate,"onUpdate:modelValue":[l[4]||(l[4]=e=>S.selectedDate=e),y.formatDate],disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i._)("h2",null,"Selected date: "+(0,o.zw)(y.date),1)])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.type,"onUpdate:modelValue":l[5]||(l[5]=e=>y.type=e),label:"Type",items:e.getItemsNameByType(7),rules:S.rules,disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.publisher,"onUpdate:modelValue":l[6]||(l[6]=e=>y.publisher=e),label:"Publisher",rules:S.rules,disabled:!S.editing},null,8,["modelValue","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6  "},{default:(0,i.w5)((()=>[V])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:l[7]||(l[7]=e=>y.addFields()),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Uk)("Add contributor")])),_:1},8,["disabled"])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.contribuidores,((t,o)=>((0,i.wg)(),(0,i.j4)(u.K,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,onInput:l[8]||(l[8]=e=>y.updateContributor()),label:"Name or URI",rules:S.rules,hint:"URI example in http://www.dib.ie","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"5"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:t.role,"onUpdate:modelValue":[e=>t.role=e,l[9]||(l[9]=e=>y.updateContributor())],label:"Role",items:e.getItemsNameByType(2),rules:S.rules,disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","items","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"1"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:e=>y.removeField(o),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick","disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.description,"onUpdate:modelValue":l[10]||(l[10]=e=>y.description=e),label:"Description",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1})]),E,(0,i._)("div",null,[(0,i._)("template",null,[(0,i.Wm)(h.K,{color:"deep-purple",height:"10",indeterminate:""})]),(0,i.Wm)(d.Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.rightsp,"onUpdate:modelValue":l[11]||(l[11]=e=>y.rightsp=e),label:"Rights",items:e.getItemsNameByType(1),rules:S.rules,disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6  "},{default:(0,i.w5)((()=>[D])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:l[12]||(l[12]=e=>y.addFieldsCreators()),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Uk)("Add creator")])),_:1},8,["disabled"])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.creadores,((t,o)=>((0,i.wg)(),(0,i.j4)(u.K,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,onInput:l[13]||(l[13]=e=>y.updateCreator()),label:"Name or URI",rules:S.rules,hint:"URI example in http://www.dib.ie","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:t.role,"onUpdate:modelValue":[e=>t.role=e,l[14]||(l[14]=e=>y.updateCreator())],label:"Role",items:e.getItemsNameByType(3),rules:S.rules,disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","items","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"3"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:t.gender,"onUpdate:modelValue":[e=>t.gender=e,l[15]||(l[15]=e=>y.updateCreator())],label:"Gender",items:e.getItemsNameByType(13),disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","items","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"1"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:e=>y.removeFieldCreator(o),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick","disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(F,{modelValue:S.selectedDatep,"onUpdate:modelValue":[l[16]||(l[16]=e=>S.selectedDatep=e),y.formatDate],disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i._)("h2",null,"Selected date: "+(0,o.zw)(y.date),1)])),_:1}),(0,i.Wm)(m.D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.key,"onUpdate:modelValue":l[17]||(l[17]=e=>y.key=e),label:"Key",items:e.getItemsNameByType(8),rules:S.rules,disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.metre,"onUpdate:modelValue":l[18]||(l[18]=e=>y.metre=e),label:"Metre",items:e.getItemsNameByType(9),rules:S.rules,disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.tempo,"onUpdate:modelValue":l[19]||(l[19]=e=>y.tempo=e),label:"Tempo",items:e.getItemsNameByType(10),rules:S.rules,disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.instrument,"onUpdate:modelValue":l[20]||(l[20]=e=>y.instrument=e),label:"Instruments",items:e.getItemsNameByType(11),multiple:"",disabled:!S.editing},null,8,["modelValue","items","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.genre,"onUpdate:modelValue":l[21]||(l[21]=e=>y.genre=e),label:"Genre",items:e.getItemsNameByType(12),rules:S.rules,multiple:"",disabled:!S.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[W])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:l[22]||(l[22]=e=>y.addFieldsp()),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Uk)(" Add contributor ")])),_:1},8,["disabled"])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.contribuidoresp,((t,o)=>((0,i.wg)(),(0,i.j4)(u.K,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(n.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,onInput:l[23]||(l[23]=e=>y.updateContributor()),label:"Name or URI",rules:S.rules,hint:"URI example in http://www.dib.ie","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"5"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:t.role,"onUpdate:modelValue":[e=>t.role=e,l[24]||(l[24]=e=>y.updateContributor())],label:"Role",items:e.getItemsNameByType(4),rules:S.rules,disabled:!S.editing},null,8,["modelValue","onUpdate:modelValue","items","rules","disabled"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"1"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:e=>y.removeFieldp(o),disabled:!S.editing},{default:(0,i.w5)((()=>[(0,i.Wm)(p.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick","disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.altTitle,"onUpdate:modelValue":l[25]||(l[25]=e=>y.altTitle=e),label:"Alternative title",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.description,"onUpdate:modelValue":l[26]||(l[26]=e=>y.description=e),label:"Description",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{modelValue:y.type,"onUpdate:modelValue":l[27]||(l[27]=e=>y.type=e),label:"Type",items:e.defaultSelections.types,disabled:!S.editing},null,8,["modelValue","items","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.format,"onUpdate:modelValue":l[28]||(l[28]=e=>y.format=e),label:"Format",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.subject,"onUpdate:modelValue":l[29]||(l[29]=e=>y.subject=e),label:"Subject",hint:"You can check the subject in https://www.vwml.org/song-subject-index. Multiple subjects must be separated by '|'","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.language,"onUpdate:modelValue":l[30]||(l[30]=e=>y.language=e),label:"Language code",hint:"You can check the code in https://www.loc.gov/standards/iso639-2/php/code_list.php","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.relation,"onUpdate:modelValue":l[31]||(l[31]=e=>y.relation=e),label:"Relation",hint:"Multiple relations must be separated by ':'","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.hasVersion,"onUpdate:modelValue":l[32]||(l[32]=e=>y.hasVersion=e),label:"HasVersion",hint:"Multiple versions must be separated by ''","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.isVersionOf,"onUpdate:modelValue":l[33]||(l[33]=e=>y.isVersionOf=e),label:"IsVersionOf",hint:"Multiple versions must be separated by ':'","persistent-hint":"",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.coverage,"onUpdate:modelValue":l[34]||(l[34]=e=>y.coverage=e),label:"Coverage",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[T])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.spatialCountry,"onUpdate:modelValue":l[35]||(l[35]=e=>y.spatialCountry=e),label:"Country",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.spatialState,"onUpdate:modelValue":l[36]||(l[36]=e=>y.spatialState=e),label:"State",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.spatialLocation,"onUpdate:modelValue":l[37]||(l[37]=e=>y.spatialLocation=e),label:"Location",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[U])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.temporalCentury,"onUpdate:modelValue":l[38]||(l[38]=e=>y.temporalCentury=e),label:"Century",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.temporalDecade,"onUpdate:modelValue":l[39]||(l[39]=e=>y.temporalDecade=e),label:"Decade",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.temporalYear,"onUpdate:modelValue":l[40]||(l[40]=e=>y.temporalYear=e),label:"Year",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(r.Z,{accept:".xml",modelValue:y.xml,"onUpdate:modelValue":l[41]||(l[41]=e=>y.xml=e),label:"XML File",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(r.Z,{accept:".mei",modelValue:y.mei,"onUpdate:modelValue":l[42]||(l[42]=e=>y.mei=e),label:"MEI File",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(r.Z,{accept:".mid",modelValue:y.midi,"onUpdate:modelValue":l[43]||(l[43]=e=>y.midi=e),label:"MIDI File",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.audio,"onUpdate:modelValue":l[44]||(l[44]=e=>y.audio=e),label:"Audio URL",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(_.h,{modelValue:y.video,"onUpdate:modelValue":l[45]||(l[45]=e=>y.video=e),label:"Video URL",disabled:!S.editing},null,8,["modelValue","disabled"])])),_:1}),(0,i.Wm)(m.D,{cols:"4"},{default:(0,i.w5)((()=>[(0,i.Wm)(b.rL,{label:"Select collection",items:this.getNameCollectionsWithId,modelValue:this.col_id,"onUpdate:modelValue":l[46]||(l[46]=e=>this.col_id=e),disabled:!S.editing},null,8,["items","modelValue","disabled"])])),_:1})])),_:1})])),_:1}),(0,i.Wm)(s.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c.C),S.pieceSelected&&this.pieceForm.user_id===this.user.userInfo.user_id?((0,i.wg)(),(0,i.iD)("div",w,[S.editing?((0,i.wg)(),(0,i.j4)(a.T,{key:0,color:"deep-purple lighten-2",text:"",onClick:y.saveFields},{default:(0,i.w5)((()=>[(0,i.Uk)(" Save piece ")])),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(a.T,{key:1,color:"deep-purple lighten-2",text:"",onClick:y.editFields},{default:(0,i.w5)((()=>[(0,i.Uk)(" Edit fields ")])),_:1},8,["onClick"])),S.editing?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(a.T,{key:2,color:"deep-purple lighten-2",text:"",onClick:this.delete},{default:(0,i.w5)((()=>[(0,i.Uk)(" Delete piece ")])),_:1},8,["onClick"]))])):(0,i.kq)("",!0),S.pieceSelected?((0,i.wg)(),(0,i.j4)(a.T,{key:1,color:"deep-purple lighten-2",text:"",onClick:this.exportExcel},{default:(0,i.w5)((()=>[(0,i.Uk)(" Export Excel ")])),_:1},8,["onClick"])):(0,i.kq)("",!0)])),_:1})])])),_:1})])),_:1})])),_:1})}t(7658),t(2801),t(1295);var S=t(65),y=t(8390),C=t(4861),F={components:{VDatePicker:y.M,SearchBar:C.Z},data(){return{items:["Piece1","Piece2"],contribuidores:[],contribuidoresp:[],creadores:[],selectedDate:null,selectedDatep:null,rules:[e=>!!e||"Required."],editing:!1,pieceSelected:!1}},computed:{...(0,S.rn)(["error","defaultSelections","pieces","pieceSelected","pieceForm","user"]),...(0,S.Se)(["getItemsNameByType","getNamePieces","getNameCollections","getNameCollectionsWithId"]),id:{get(){return this.pieceForm.identifier},set(e){this.$store.commit("UPDATE_USER_ID",e)}},title:{get(){return this.pieceForm.title},set(e){this.$store.commit("UPDATE_USER_TITLE",e)}},right:{get(){return this.pieceForm.rights},set(e){this.$store.commit("UPDATE_USER_RIGHT",e)}},rightsp:{get(){return this.pieceForm.rightsp},set(e){this.$store.commit("UPDATE_USER_RIGHT",e)}},creator:{get(){return this.pieceForm.creator},set(e){this.$store.commit("UPDATE_USER_CREATOR",e)}},date(){return this.pieceForm.date},type:{get(){return this.pieceForm.type_file},set(e){this.$store.commit("UPDATE_USER_TYPE",e)}},publisher:{get(){return this.pieceForm.publisher},set(e){this.$store.commit("UPDATE_USER_PUBLISHER",e)}},contributor(){return this.pieceForm.contributor_role},contributorp(){return this.pieceForm.contributorp_role},description:{get(){return this.pieceForm.desc},set(e){this.$store.commit("UPDATE_USER_DESCRIPTION",e)}},key:{get(){return this.pieceForm.real_key},set(e){this.$store.commit("UPDATE_SHEET_KEY",e)}},metre:{get(){return this.pieceForm.meter},set(e){this.$store.commit("UPDATE_SHEET_METRE",e)}},tempo:{get(){return this.pieceForm.tempo},set(e){this.$store.commit("UPDATE_SHEET_TEMPO",e)}},creatorSheet(){return this.pieceForm.creatorp_role},dateSheet(){return this.pieceForm.datep},instrument:{get(){return this.pieceForm.instruments},set(e){this.$store.commit("UPDATE_SHEET_INSTRUMENT",e)}},genre:{get(){return this.pieceForm.genre},set(e){this.$store.commit("UPDATE_SHEET_GENRE",e)}},altTitle:{get(){return this.pieceForm.alt_title},set(e){this.$store.commit("UPDATE_SHEET_ALTTITLE",e)}},descriptionSheet:{get(){return this.pieceForm.descp},set(e){this.$store.commit("UPDATE_SHEET_DESCRIPTION",e)}},typeSheet:{get(){return this.pieceForm.type_piece},set(e){this.$store.commit("UPDATE_SHEET_TYPE",e)}},format:{get(){return this.pieceForm.formattingp},set(e){this.$store.commit("UPDATE_SHEET_FORMAT",e)}},subject:{get(){return this.pieceForm.subject},set(e){this.$store.commit("UPDATE_SHEET_SUBJECT",e)}},language:{get(){return this.pieceForm.language},set(e){this.$store.commit("UPDATE_SHEET_LANGUAGE",e)}},relation:{get(){return this.pieceForm.relationp},set(e){this.$store.commit("UPDATE_SHEET_RELATION",e)}},hasVersion:{get(){return this.pieceForm.hasVersion},set(e){this.$store.commit("UPDATE_SHEET_HASVERSION",e)}},isVersionOf:{get(){return this.pieceForm.isVersionOf},set(e){this.$store.commit("UPDATE_SHEET_ISVERSIONOF",e)}},coverage:{get(){return this.pieceForm.coverage},set(e){this.$store.commit("UPDATE_SHEET_COVERAGE",e)}},spatialCountry:{get(){return this.pieceForm.spatial.country},set(e){this.$store.commit("UPDATE_SHEET_SPATIALCOUNTRY",e)}},spatialState:{get(){return this.pieceForm.spatial.state},set(e){this.$store.commit("UPDATE_SHEET_SPATIALSTATE",e)}},spatialLocation:{get(){return this.pieceForm.spatial.location},set(e){this.$store.commit("UPDATE_SHEET_SPATIALLOCATION",e)}},temporalCentury:{get(){return this.pieceForm.temporal.century},set(e){this.$store.commit("UPDATE_SHEET_TEMPORALCENTURY",e)}},temporalDecade:{get(){return this.pieceForm.temporal.decade},set(e){this.$store.commit("UPDATE_SHEET_TEMPORALDECADE",e)}},temporalYear:{get(){return this.pieceForm.temporal.year},set(e){this.$store.commit("UPDATE_SHEET_TEMPORALYEAR",e)}},xml:{get(){return this.pieceForm.xml},set(e){this.$store.commit("UPDATE_SHEET_XML",e)}},mei:{get(){return this.pieceForm.mei},set(e){this.$store.commit("UPDATE_SHEET_MEI",e)}},midi:{get(){return this.pieceForm.midi},set(e){this.$store.commit("UPDATE_SHEET_MIDI",e)}},audio:{get(){return this.pieceForm.audio},set(e){this.$store.commit("UPDATE_SHEET_AUDIO",e)}},video:{get(){return this.pieceForm.video},set(e){this.$store.commit("UPDATE_SHEET_VIDEO",e)}},col_id:{get(){return this.pieceForm.col_id},set(e){this.$store.commit("UPDATE_SHEET_COLID",e)}}},methods:{...(0,S.nv)(["saveDataPiece","addContributor","addCreator","removeContributor","removeCreator","formatAndSaveDate","fetchPieces","getPieceInfo","editPiece","resetPieceForm","deletePiece","exportPieceToExcel"]),importFile(){this.$refs.fileInput.click()},handleFileChange(e){const l=e.target.files[0];console.log("Archivo seleccionado:",l)},addFields(){this.addContributor("User"),this.contribuidores.push({name:"",role:""})},addFieldsp(){this.addContributor("Sheet"),this.contribuidoresp.push({name:"",role:""})},addFieldsCreators(){this.addCreator("Sheet"),this.creadores.push({name:"",role:"",gender:""})},removeField(e){this.removeContributor({index:e,form:"User"}),this.contribuidores.splice(e,1)},removeFieldp(e){this.removeContributor({index:e,form:"Sheet"}),this.contribuidoresp.splice(e,1)},removeFieldCreator(e){this.removeCreator({index:e,form:"Sheet"}),this.creadores.splice(e,1)},updateContributor(){this.$store.commit("UPDATE_USER_CONTRIBUTOR",this.contribuidores)},updateContributorp(){this.$store.commit("UPDATE_SHEET_CONTRIBUTOR",this.contribuidoresp)},updateCreator(){this.$store.commit("UPDATE_SHEET_CREATOR",this.creadores)},formatDate(){this.selectedDate&&this.formatAndSaveDate({date:this.selectedDate,form:"Sheet"})},formatDatep(){this.selectedDatep&&this.formatAndSaveDate({date:this.selectedDatep,form:"Sheet"})},editFields(){this.editing=!0},saveFields(){this.editPiece(),this.editing=!1},async loadPieceInfo(e){await this.getPieceInfo({piece:e,creadores:this.creadores,contribuidores:this.contribuidores,contribuidoresp:this.contribuidoresp}),this.pieceSelected=!0},delete(){this.deletePiece(this.pieceForm.music_id),this.resetPieceForm()},exportExcel(){this.exportPieceToExcel(this.pieceForm.music_id)}},created(){this.resetPieceForm(),this.contribuidores=structuredClone(this.contributor),this.contribuidoresp=structuredClone(this.contributorp),this.creadores=structuredClone(this.creatorSheet),this.fetchPieces()}},I=t(89);const A=(0,I.Z)(F,[["render",v]]);var P=A},3121:function(e,l,t){t.d(l,{Z:function(){return f}});var i=t(3396),o=t(7103),a=t(2816),d=t(7173),s=t(8302),r=t(8969),u=t(3185),n=t(1629),m=t(8717),c=t(4870),p=t(3766),h=t(131),b=t(1107),_=t(9888);const g=(0,p.U)({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},...(0,s.c)({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>(0,h.FT)(e).every((e=>null!=e&&"object"===typeof e))},...(0,d.hy)({clearable:!0})},"VFileInput"),f=(0,b.ev)()({name:"VFileInput",inheritAttrs:!1,props:g(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:t,emit:p,slots:b}=l;const{t:g}=(0,n.bU)(),f=(0,m.z)(e,"modelValue"),{isFocused:V,focus:E,blur:D}=(0,r.K)(e),W=(0,i.Fl)((()=>"boolean"!==typeof e.showSize?e.showSize:void 0)),T=(0,i.Fl)((()=>(f.value??[]).reduce(((e,l)=>{let{size:t=0}=l;return e+t}),0))),U=(0,i.Fl)((()=>(0,h.XE)(T.value,W.value))),w=(0,i.Fl)((()=>(f.value??[]).map((l=>{const{name:t="",size:i=0}=l;return e.showSize?`${t} (${(0,h.XE)(i,W.value)})`:t})))),v=(0,i.Fl)((()=>{const l=f.value?.length??0;return e.showSize?g(e.counterSizeString,l,U.value):g(e.counterString,l)})),S=(0,c.iH)(),y=(0,c.iH)(),C=(0,c.iH)(),F=(0,i.Fl)((()=>V.value||e.active)),I=(0,i.Fl)((()=>["plain","underlined"].includes(e.variant)));function A(){C.value!==document.activeElement&&C.value?.focus(),V.value||E()}function P(e){R(e)}function k(e){p("mousedown:control",e)}function R(e){C.value?.click(),p("click:control",e)}function $(l){l.stopPropagation(),A(),(0,i.Y3)((()=>{f.value=[],(0,h.dr)(e["onClick:clear"],l)}))}return(0,i.YP)(f,(e=>{const l=!Array.isArray(e)||!e.length;l&&C.value&&(C.value.value="")})),(0,_.L)((()=>{const l=!(!b.counter&&!e.counter),r=!(!l&&!b.details),[u,n]=(0,h.An)(t),[{modelValue:m,...c}]=s.q.filterProps(e),[p]=(0,d.g8)(e);return(0,i.Wm)(s.q,(0,i.dG)({ref:S,modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,class:["v-file-input",{"v-text-field--plain-underlined":I.value},e.class],style:e.style,"onClick:prepend":P},u,c,{centerAffix:!I.value,focused:V.value}),{...b,default:l=>{let{id:t,isDisabled:a,isDirty:s,isReadonly:r,isValid:u}=l;return(0,i.Wm)(d.hF,(0,i.dG)({ref:y,"prepend-icon":e.prependIcon,onMousedown:k,onClick:R,"onClick:clear":$,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},p,{id:t.value,active:F.value||s.value,dirty:s.value,disabled:a.value,focused:V.value,error:!1===u.value}),{...b,default:l=>{let{props:{class:t,...d}}=l;return(0,i.Wm)(i.HY,null,[(0,i.Wm)("input",(0,i.dG)({ref:C,type:"file",readonly:r.value,disabled:a.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),A()},onChange:e=>{if(!e.target)return;const l=e.target;f.value=[...l.files??[]]},onFocus:A,onBlur:D},d,n),null),(0,i.Wm)("div",{class:t},[!!f.value?.length&&(b.selection?b.selection({fileNames:w.value,totalBytes:T.value,totalBytesReadable:U.value}):e.chips?w.value.map((l=>(0,i.Wm)(o.v,{key:l,size:"small",color:e.color},{default:()=>[l]}))):w.value.join(", "))])])}})},details:r?e=>(0,i.Wm)(i.HY,null,[b.details?.(e),l&&(0,i.Wm)(i.HY,null,[(0,i.Wm)("span",null,null),(0,i.Wm)(a._,{active:!!f.value?.length,value:v.value},b.counter)])]):void 0})})),(0,u.F)({},S,y,C)}})}}]);
//# sourceMappingURL=84.7a99568c.js.map