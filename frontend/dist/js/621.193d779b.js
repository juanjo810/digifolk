"use strict";(self["webpackChunkdigifolk"]=self["webpackChunkdigifolk"]||[]).push([[621],{4621:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var i=l(3396),o=l(7139),a=l(6372),r=l(1888),s=l(1334),u=l(3369),d=l(6824),m=l(8521),n=l(9234),c=l(3289),h=l(7325),p=l(240),f=l(2902);const _=(0,i._)("h1",null,"Information about the MusicXML file",-1),D=(0,i._)("h2",null,"Contributors",-1),U=(0,i._)("span",null,[(0,i._)("a",{href:"http://www.dib.ie",target:"_blank"},"URI examples")],-1);function b(e,t,l,b,W,w){const g=(0,i.up)("v-date-picker");return(0,i.wg)(),(0,i.j4)(u.K,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,null,{default:(0,i.w5)((()=>[_,(0,i._)("div",null,[(0,i._)("template",null,[(0,i.Wm)(h.K,{color:"deep-purple",height:"10",indeterminate:""})]),(0,i.Wm)(r.Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:this.id,"onUpdate:modelValue":t[0]||(t[0]=e=>this.id=e),label:"Identifier",readonly:""},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:this.title,"onUpdate:modelValue":t[1]||(t[1]=e=>this.title=e),label:"Title*",rules:W.rules,hint:"Use ' | ', i.e. space colon space, to separate title and subtitle. Use ' = ' i.e. space equals space, where a title is available in different languages","persistent-hint":""},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(p.rL,{modelValue:this.right,"onUpdate:modelValue":t[2]||(t[2]=e=>this.right=e),label:"Rights*",items:e.getItemsNameByType(1)},null,8,["modelValue","items"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:this.creator,"onUpdate:modelValue":t[3]||(t[3]=e=>this.creator=e),label:"Creator*",rules:W.rules},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{modelValue:this.selectedDate,"onUpdate:modelValue":[t[4]||(t[4]=e=>this.selectedDate=e),w.formatDate]},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i._)("h2",null,"Selected date*: "+(0,o.zw)(this.date),1)])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(p.rL,{modelValue:this.type,"onUpdate:modelValue":t[5]||(t[5]=e=>this.type=e),label:"Type",items:e.getItemsNameByType(7),rules:W.rules},null,8,["modelValue","items","rules"])])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:this.publisher,"onUpdate:modelValue":t[6]||(t[6]=e=>this.publisher=e),label:"Publisher",rules:W.rules},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(m.D,{cols:"6  "},{default:(0,i.w5)((()=>[D])),_:1}),(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:t[7]||(t[7]=e=>w.addFields())},{default:(0,i.w5)((()=>[(0,i.Uk)("Add contributor")])),_:1})])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(W.contribuidores,((l,o)=>((0,i.wg)(),(0,i.j4)(u.K,{key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(d.o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m.D,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,onInput:t[8]||(t[8]=e=>w.updateContributor()),label:"Name or URI",rules:W.rules,"persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","rules"]),U])),_:2},1024),(0,i.Wm)(m.D,{cols:"5"},{default:(0,i.w5)((()=>[(0,i.Wm)(p.rL,{modelValue:l.role,"onUpdate:modelValue":[e=>l.role=e,t[9]||(t[9]=e=>w.updateContributor())],label:"Role",items:e.getItemsNameByType(2),rules:W.rules},null,8,["modelValue","onUpdate:modelValue","items","rules"])])),_:2},1024),(0,i.Wm)(m.D,{cols:"1"},{default:(0,i.w5)((()=>[(0,i.Wm)(a.T,{onClick:e=>w.removeField(o)},{default:(0,i.w5)((()=>[(0,i.Wm)(c.t,null,{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,i.Wm)(m.D,{cols:"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(f.h,{modelValue:this.description,"onUpdate:modelValue":t[10]||(t[10]=e=>this.description=e),label:"Description"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,i.Wm)(s.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(n.C),(0,i.Wm)(a.T,{color:"deep-purple lighten-2",text:"",onClick:t[11]||(t[11]=e=>w.saveData())},{default:(0,i.w5)((()=>[(0,i.Uk)(" Save Data ")])),_:1}),(0,i.Wm)(a.T,{color:"deep-purple lighten-2",text:"",onClick:t[12]||(t[12]=e=>w.importFile())},{default:(0,i.w5)((()=>[(0,i.Uk)(" Import File ")])),_:1}),(0,i._)("input",{type:"file",ref:"fileInput",class:"d-none",accept:".xlsx, .xls, .mei, .mxml",onChange:t[13]||(t[13]=(...e)=>w.handleFileChange&&w.handleFileChange(...e))},null,544)])),_:1})])])),_:1})])),_:1})])),_:1})}l(7658),l(2801),l(1295);var W=l(65),w=l(8390),g={components:{VDatePicker:w.M},data(){return{rules:[e=>!!e||"Required."],contribuidores:[],selectedDate:null,id:"XX-XXXX-XX-XX-X"}},computed:{...(0,W.rn)(["error","pieceForm","defaultSelections"]),...(0,W.Se)(["getItemsNameByType"]),title:{get(){return this.pieceForm.title},set(e){this.$store.commit("UPDATE_USER_TITLE",e)}},right:{get(){return this.pieceForm.rights},set(e){this.$store.commit("UPDATE_USER_RIGHT",e)}},creator:{get(){return this.pieceForm.creator},set(e){this.$store.commit("UPDATE_USER_CREATOR",e)}},date(){return this.pieceForm.date},type:{get(){return this.pieceForm.type_file},set(e){this.$store.commit("UPDATE_USER_TYPE",e)}},publisher:{get(){return this.pieceForm.publisher},set(e){this.$store.commit("UPDATE_USER_PUBLISHER",e)}},contributor(){return this.pieceForm.contributor_role},description:{get(){return this.pieceForm.desc},set(e){this.$store.commit("UPDATE_USER_DESCRIPTION",e)}}},methods:{...(0,W.nv)(["saveDataPiece","addContributor","formatAndSaveDate","removeContributor","resetPieceForm","importDataFromExcel","importDataFromMEI"]),saveData(){""!==this.pieceForm.rightsp&&this.pieceForm.creatorp_role.length>0&&""!==this.pieceForm.datep&&""!==this.title&&""!==this.rights&&""!==this.creator&&""!==this.date?this.saveDataPiece():alert("Please fill in all the required fields")},importFile(){this.$refs.fileInput.click()},handleFileChange(e){const t=e.target.files[0];t&&t.name.endsWith(".xlsx")?this.importDataFromExcel({file:t}):t&&t.name.endsWith(".mei")&&this.importDataFromMEI({file:t}),console.log("Archivo seleccionado:",t)},addFields(){this.addContributor("User"),this.contribuidores.push({name:"",role:""})},removeField(e){this.removeContributor({index:e,form:"User"}),this.contribuidores.splice(e,1)},updateContributor(){this.$store.commit("UPDATE_USER_CONTRIBUTOR",this.contribuidores)},formatDate(){this.selectedDate.length>0?this.formatAndSaveDate({date:this.selectedDate,form:"User"}):alert("Please select a date")}},created(){this.contribuidores=structuredClone(this.contributor)}},V=l(89);const F=(0,V.Z)(g,[["render",b]]);var C=F}}]);
//# sourceMappingURL=621.193d779b.js.map