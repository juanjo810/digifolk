"use strict";(self["webpackChunkdigifolk"]=self["webpackChunkdigifolk"]||[]).push([[35],{1035:function(e,l,t){t.r(l),t.d(l,{default:function(){return k}});var o=t(3396),i=t(7139),a=t(6372),d=t(1888),s=t(1334),r=t(3369),n=t(6824),u=t(8521),m=t(9234),c=t(3289),h=t(8649),p=t(9457),_=t(2127),b=t(7325),g=t(240),C=t(2902);const f=(0,o._)("h1",null,"View collection",-1),w=(0,o._)("h2",null,"Creators",-1),V=(0,o._)("h2",null,"Contributors",-1),W=(0,o._)("h2",null,"Spatial",-1),D=(0,o._)("h2",null,"Temporal",-1),T=(0,o._)("h2",null,"Pieces",-1);function U(e,l,t,U,E,L){const O=(0,o.up)("SearchBar"),I=(0,o.up)("v-date-picker"),A=(0,o.up)("v-list-item-content");return(0,o.wg)(),(0,o.j4)(r.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[f])),_:1}),(0,o.Wm)(u.D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(O,{objects:this.getNameCollections,getInfo:L.loadCollectionInfo,typeObject:"collections"},null,8,["objects","getInfo"])])),_:1})])),_:1}),(0,o._)("div",null,[(0,o._)("template",null,[(0,o.Wm)(b.K,{color:"deep-purple",height:"10",indeterminate:""})]),(0,o.Wm)(d.Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,{cols:"1"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{readonly:"",modelValue:e.collectionForm.col_id,"onUpdate:modelValue":l[0]||(l[0]=l=>e.collectionForm.col_id=l),label:"ID",disabled:!E.editing||E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"2"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{readonly:"",modelValue:e.collectionForm.code,"onUpdate:modelValue":l[1]||(l[1]=l=>e.collectionForm.code=l),label:"Code",disabled:!E.editing||E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"5"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.title,"onUpdate:modelValue":l[2]||(l[2]=e=>L.title=e),label:"Title",rules:E.rules,hint:"Use ' | ', i.e. space colon space, to separate title and subtitle","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","rules","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(g.rL,{modelValue:L.right,"onUpdate:modelValue":l[3]||(l[3]=e=>L.right=e),label:"Rights",items:this.getItemsNameByType(1),rules:E.rules,disabled:!E.editing},null,8,["modelValue","items","rules","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{modelValue:E.selectedDate,"onUpdate:modelValue":[l[4]||(l[4]=e=>E.selectedDate=e),L.formatDate],rules:E.rules,disabled:!E.editing},null,8,["modelValue","onUpdate:modelValue","rules","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o._)("h2",null,"Selected date: "+(0,i.zw)(L.date),1)])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[w])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[E.editing?((0,o.wg)(),(0,o.j4)(a.T,{key:0,onClick:l[5]||(l[5]=e=>L.addFieldsCreators())},{default:(0,o.w5)((()=>[(0,o.Uk)("Add creator")])),_:1})):(0,o.kq)("",!0)])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(E.creadores,((t,i)=>((0,o.wg)(),(0,o.j4)(r.K,{key:i},{default:(0,o.w5)((()=>[(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,onInput:l[6]||(l[6]=e=>L.updateCreator()),label:"Name or URI",rules:E.rules,hint:"URI example in http://www.dib.ie","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","onUpdate:modelValue","rules","disabled"])])),_:2},1024),(0,o.Wm)(u.D,{cols:"5"},{default:(0,o.w5)((()=>[(0,o.Wm)(g.rL,{modelValue:t.role,"onUpdate:modelValue":[e=>t.role=e,l[7]||(l[7]=e=>L.updateCreator())],label:"Role",items:e.getItemsNameByType(5),rules:E.rules,disabled:!E.editing},null,8,["modelValue","onUpdate:modelValue","items","rules","disabled"])])),_:2},1024),(0,o.Wm)(u.D,{cols:"1"},{default:(0,o.w5)((()=>[E.editing?((0,o.wg)(),(0,o.j4)(a.T,{key:0,onClick:e=>L.removeFieldCreator(i)},{default:(0,o.w5)((()=>[(0,o.Wm)(c.t,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[V])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[E.editing?((0,o.wg)(),(0,o.j4)(a.T,{key:0,onClick:l[8]||(l[8]=e=>L.addFields())},{default:(0,o.w5)((()=>[(0,o.Uk)("Add contributor")])),_:1})):(0,o.kq)("",!0)])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(E.contribuidores,((t,i)=>((0,o.wg)(),(0,o.j4)(r.K,{key:i},{default:(0,o.w5)((()=>[(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,onInput:l[9]||(l[9]=e=>L.updateContributor()),label:"Name or URI",hint:"URI example in http://www.dib.ie","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,o.Wm)(u.D,{cols:"5"},{default:(0,o.w5)((()=>[(0,o.Wm)(g.rL,{modelValue:t.role,"onUpdate:modelValue":[e=>t.role=e,l[10]||(l[10]=e=>L.updateContributor())],label:"Role",items:e.getItemsNameByType(6),disabled:!E.editing},null,8,["modelValue","onUpdate:modelValue","items","disabled"])])),_:2},1024),(0,o.Wm)(u.D,{cols:"1"},{default:(0,o.w5)((()=>[E.editing?((0,o.wg)(),(0,o.j4)(a.T,{key:0,onClick:e=>L.removeField(i)},{default:(0,o.w5)((()=>[(0,o.Wm)(c.t,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(g.rL,{modelValue:L.type,"onUpdate:modelValue":l[11]||(l[11]=e=>L.type=e),label:"Type",items:e.getItemsNameByType(7),disabled:!E.editing},null,8,["modelValue","items","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.source,"onUpdate:modelValue":l[12]||(l[12]=e=>L.source=e),label:"Source",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.description,"onUpdate:modelValue":l[13]||(l[13]=e=>L.description=e),label:"Description",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.format,"onUpdate:modelValue":l[14]||(l[14]=e=>L.format=e),label:"Format",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.extent,"onUpdate:modelValue":l[15]||(l[15]=e=>L.extent=e),label:"Extent",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.publisher,"onUpdate:modelValue":l[16]||(l[16]=e=>L.publisher=e),label:"Publisher",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.subject,"onUpdate:modelValue":l[17]||(l[17]=e=>L.subject=e),label:"Subject",hint:"You can check the subject in https://www.vwml.org/song-subject-index. Multiple subjects must be separated by '|'","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.language,"onUpdate:modelValue":l[18]||(l[18]=e=>L.language=e),label:"Language code",hint:"You can check the code in https://www.loc.gov/standards/iso639-2/php/code_list.php","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.relation,"onUpdate:modelValue":l[19]||(l[19]=e=>L.relation=e),label:"Relation",hint:"Multiple subjects must be separated by '|'","persistent-hint":"",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.coverage,"onUpdate:modelValue":l[20]||(l[20]=e=>L.coverage=e),label:"Coverage",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"12"},{default:(0,o.w5)((()=>[W])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.spatialCountry,"onUpdate:modelValue":l[21]||(l[21]=e=>L.spatialCountry=e),label:"Country",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.spatialState,"onUpdate:modelValue":l[22]||(l[22]=e=>L.spatialState=e),label:"State",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.spatialLocation,"onUpdate:modelValue":l[23]||(l[23]=e=>L.spatialLocation=e),label:"Location",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"12"},{default:(0,o.w5)((()=>[D])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.temporalCentury,"onUpdate:modelValue":l[24]||(l[24]=e=>L.temporalCentury=e),label:"Century",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.temporalDecade,"onUpdate:modelValue":l[25]||(l[25]=e=>L.temporalDecade=e),label:"Decade",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.temporalYear,"onUpdate:modelValue":l[26]||(l[26]=e=>L.temporalYear=e),label:"Year",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1}),(0,o.Wm)(u.D,{cols:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(C.h,{modelValue:L.rights_holder,"onUpdate:modelValue":l[27]||(l[27]=e=>L.rights_holder=e),label:"rights_holder",disabled:!E.editing},null,8,["modelValue","disabled"])])),_:1})])),_:1}),(0,o.Wm)(n.o,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u.D,{cols:"12"},{default:(0,o.w5)((()=>[(0,o.Wm)(h.i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p.l,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_.V,null,{default:(0,o.w5)((()=>[T])),_:1})])),_:1})])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.collectionForm.pieces,((e,l)=>((0,o.wg)(),(0,o.j4)(p.l,{key:l},{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_.V,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(s.h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m.C),E.editing?((0,o.wg)(),(0,o.j4)(a.T,{key:0,color:"deep-purple lighten-2",text:"",onClick:L.saveCollection},{default:(0,o.w5)((()=>[(0,o.Uk)(" Save collection ")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(a.T,{key:1,color:"deep-purple lighten-2",text:"",onClick:L.editFields},{default:(0,o.w5)((()=>[(0,o.Uk)(" Edit fields ")])),_:1},8,["onClick"]))])),_:1})])])),_:1})])),_:1})])),_:1})}t(7658);var E=t(65),L=t(8390),O=t(4861),I={components:{VDatePicker:L.M,SearchBar:O.Z},data(){return{contribuidores:[],creadores:[],selectedDate:null,rules:[e=>!!e||"Required."],editing:!1}},computed:{...(0,E.rn)(["error","collectionForm","defaultSelections"]),...(0,E.Se)(["getItemsNameByType","getNameCollections"]),title:{get(){return this.collectionForm.title},set(e){this.$store.commit("UPDATE_COLLECTION_TITLE",e)}},right:{get(){return this.collectionForm.rights},set(e){this.$store.commit("UPDATE_COLLECTION_RIGHT",e)}},creator(){return this.collectionForm.creator_role},contributor(){return this.collectionForm.contributor_role},date(){return this.collectionForm.date},description:{get(){return this.collectionForm.description},set(e){this.$store.commit("UPDATE_COLLECTION_DESCRIPTION",e)}},type:{get(){return this.collectionForm.source_type},set(e){this.$store.commit("UPDATE_COLLECTION_TYPE",e)}},format:{get(){return this.collectionForm.formatting},set(e){this.$store.commit("UPDATE_COLLECTION_FORMAT",e)}},subject:{get(){return this.collectionForm.subject},set(e){this.$store.commit("UPDATE_COLLECTION_SUBJECT",e)}},language:{get(){return this.collectionForm.language},set(e){this.$store.commit("UPDATE_COLLECTION_LANGUAGE",e)}},relation:{get(){return this.collectionForm.relation},set(e){this.$store.commit("UPDATE_COLLECTION_RELATION",e)}},coverage:{get(){return this.collectionForm.coverage},set(e){this.$store.commit("UPDATE_COLLECTION_COVERAGE",e)}},spatialCountry:{get(){return this.collectionForm.spatial.country},set(e){this.$store.commit("UPDATE_COLLECTION_SPATIALCOUNTRY",e)}},spatialState:{get(){return this.collectionForm.spatial.state},set(e){this.$store.commit("UPDATE_COLLECTION_SPATIALSTATE",e)}},spatialLocation:{get(){return this.collectionForm.spatial.location},set(e){this.$store.commit("UPDATE_COLLECTION_SPATIALLOCATION",e)}},temporalCentury:{get(){return this.collectionForm.temporal.century},set(e){this.$store.commit("UPDATE_COLLECTION_TEMPORALCENTURY",e)}},temporalDecade:{get(){return this.collectionForm.temporal.decade},set(e){this.$store.commit("UPDATE_COLLECTION_TEMPORALDECADE",e)}},temporalYear:{get(){return this.collectionForm.temporal.year},set(e){this.$store.commit("UPDATE_COLLECTION_TEMPORALYEAR",e)}},source:{get(){return this.collectionForm.source},set(e){this.$store.commit("UPDATE_COLLECTION_SOURCE",e)}},extent:{get(){return this.collectionForm.extent},set(e){this.$store.commit("UPDATE_COLLECTION_EXTENT",e)}},publisher:{get(){return this.collectionForm.publisher},set(e){this.$store.commit("UPDATE_COLLECTION_PUBLISHER",e)}},rights_holder:{get(){return this.collectionForm.rights_holder},set(e){this.$store.commit("UPDATE_COLLECTION_rights_holder",e)}}},methods:{...(0,E.nv)(["editCollection","addContributor","addCreator","formatAndSaveDate","removeContributor","removeCreator","fetchCollections","getCollectionInfo","resetCollectionForm"]),saveCollection(){""!=this.title&&this.date&&""!=this.right&&this.creator.length>0?this.editCollection():window.alert("You must fill the required fields"),this.editing=!1},importFile(){this.$refs.fileInput.click()},handleFileChange(e){const l=e.target.files[0];console.log("Archivo seleccionado:",l)},addFields(){this.addContributor("Collection"),this.contribuidores.push({name:"",role:""})},addFieldsCreators(){this.addCreator("Collection"),this.creadores.push({name:"",role:""})},removeField(e){this.removeContributor({index:e,form:"Collection"}),this.contribuidores.splice(e,1)},removeFieldCreator(e){this.removeCreator({index:e,form:"Collection"}),this.creadores.splice(e,1)},updateContributor(){this.$store.commit("UPDATE_COLLECTION_CONTRIBUTOR",this.contribuidores)},updateCreator(){this.$store.commit("UPDATE_COLLECTION_CREATOR",this.creadores)},formatDate(){this.selectedDate&&this.formatAndSaveDate({date:this.selectedDate,form:"Collection"})},editFields(){this.editing=!0},loadCollectionInfo(e){this.getCollectionInfo({collection:e,creadores:this.creadores,contribuidores:this.contribuidores})}},created(){this.resetCollectionForm(),this.fetchCollections()}},A=t(89);const F=(0,A.Z)(I,[["render",U]]);var k=F}}]);
//# sourceMappingURL=35.185e51b8.js.map