{"version":3,"file":"js/app.8b28ce3e.js","mappings":"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","sources":["webpack://digifolk/./src/App.vue","webpack://digifolk/./src/App.vue?7ccd","webpack://digifolk/./src/store/state.js","webpack://digifolk/./src/store/mutations-types.js","webpack://digifolk/./src/store/mutations.js","webpack://digifolk/./src/api/index.js","webpack://digifolk/./src/utils/utils.js","webpack://digifolk/./src/store/actions.js","webpack://digifolk/./src/store/getters.js","webpack://digifolk/./src/store/index.js","webpack://digifolk/./src/views/AppLogin.vue","webpack://digifolk/./src/views/AppLogin.vue?c3d1","webpack://digifolk/./src/views/AppDashboard.vue","webpack://digifolk/./src/views/AppDashboard.vue?f601","webpack://digifolk/./src/views/AppRegister.vue","webpack://digifolk/./src/views/AppRegister.vue?402a","webpack://digifolk/./src/router/index.js","webpack://digifolk/./src/plugins/vuetify.js","webpack://digifolk/./src/plugins/webfontloader.js","webpack://digifolk/./src/main.js","webpack://digifolk/webpack/bootstrap","webpack://digifolk/webpack/runtime/chunk loaded","webpack://digifolk/webpack/runtime/compat get default export","webpack://digifolk/webpack/runtime/create fake namespace object","webpack://digifolk/webpack/runtime/define property getters","webpack://digifolk/webpack/runtime/ensure chunk","webpack://digifolk/webpack/runtime/get javascript chunk filename","webpack://digifolk/webpack/runtime/get mini-css chunk filename","webpack://digifolk/webpack/runtime/global","webpack://digifolk/webpack/runtime/hasOwnProperty shorthand","webpack://digifolk/webpack/runtime/load script","webpack://digifolk/webpack/runtime/make namespace object","webpack://digifolk/webpack/runtime/publicPath","webpack://digifolk/webpack/runtime/css loading","webpack://digifolk/webpack/runtime/jsonp chunk loading","webpack://digifolk/webpack/startup"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-app-bar app color=\"blue\" dark>\r\n      <div class=\"d-flex align-center\">\r\n        <v-img\r\n          alt=\"Digifolk Logo\"\r\n          class=\"shrink mr-2\"\r\n          contain\r\n          src=\"@/assets/logo.png\"\r\n          transition=\"scale-transition\"\r\n          width=\"60\"\r\n          style=\"cursor: pointer\"\r\n          @click=\"$router.push({ name: 'dashboard' })\"\r\n        />\r\n      </div>\r\n\r\n      <v-app-bar-title>Digifolk</v-app-bar-title>\r\n      <v-menu v-if=\"this.user.tokenSession\" location=\"bottom\">\r\n        <template v-slot:activator=\"{ props }\">\r\n          <v-btn icon dark v-bind=\"props\">\r\n            <v-icon>mdi-file-music</v-icon>\r\n            <span>Pieces</span>\r\n          </v-btn>\r\n        </template>\r\n        <v-list>\r\n          <v-list-item @click=\"$router.push({ name: 'viewPiece' })\">\r\n            <v-list-item-title>View piece</v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item @click=\"$router.push({ name: 'sheetpiece' })\">\r\n            <v-list-item-title>View sheetpiece</v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item @click=\"this.goToPieceForm\">\r\n            <v-list-item-title>Upload piece</v-list-item-title>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n      <v-spacer></v-spacer>\r\n\r\n      <v-menu v-if=\"this.user.tokenSession\" location=\"bottom\">\r\n        <template v-slot:activator=\"{ props }\">\r\n          <v-btn icon dark v-bind=\"props\">\r\n            <v-icon>mdi-folder-music-outline</v-icon>\r\n            <span>Collections</span>\r\n          </v-btn>\r\n        </template>\r\n        <v-list>\r\n          <v-list-item @click=\"$router.push({ name: 'viewCollection' })\">\r\n            <v-list-item-title> View collection </v-list-item-title>\r\n          </v-list-item>\r\n          <v-list-item @click=\"this.goToCollectionForm\">\r\n            <v-list-item-title>Upload collection</v-list-item-title>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n      <v-spacer></v-spacer>\r\n      <v-spacer></v-spacer>\r\n      <v-spacer></v-spacer>\r\n      <v-menu v-if=\"this.user.tokenSession\" location=\"bottom\">\r\n        <template v-slot:activator=\"{ props }\">\r\n          <v-btn icon dark v-bind=\"props\">\r\n            <v-icon>mdi-account</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-list>\r\n          <v-list-item @click=\"$router.push({ name: 'profile' })\">\r\n            <v-list-item-title>Profile</v-list-item-title>\r\n          </v-list-item>\r\n          <div v-if=\"this.user.userInfo.is_admin\">\r\n            <v-list-item @click=\"$router.push({ name: 'modifyItems' })\">\r\n              <v-list-item-title>Modify items</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item @click=\"$router.push({ name: 'reviews' })\">\r\n              <v-list-item-title>Reviews</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item @click=\"$router.push({ name: 'users' })\">\r\n              <v-list-item-title>View users</v-list-item-title>\r\n            </v-list-item>\r\n          </div>\r\n          <v-list-item @click=\"logout()\">\r\n            <v-list-item-title>Logout</v-list-item-title>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n    </v-app-bar>\r\n    <v-dialog v-if=\"otroError !== ''\" v-model=\"otroError\" max-width=\"400\">\r\n      <v-alert type=\"error\" v-if=\"otroError !== ''\">{{ otroError }}</v-alert>\r\n    </v-dialog>\r\n    <v-main style=\"background-color: #456\">\r\n      <router-view />\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n\r\n  data: () => ({\r\n    //\r\n  }),\r\n  computed: {\r\n    ...mapState([\"error\", \"user\"]),\r\n    otroError: {\r\n      get() {\r\n        return this.error;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(\"RESET_ERROR\", value);\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"logOut\", \"resetPieceForm\", \"resetCollectionForm\"]),\r\n    logout() {\r\n      this.logOut().then(() => {\r\n        this.$router.push({ name: \"login\" });\r\n      });\r\n    },\r\n    goToCollectionForm() {\r\n      this.resetCollectionForm();\r\n      this.$router.push({ name: \"collectionForm\" });\r\n    },\r\n    goToPieceForm() {\r\n      this.resetPieceForm();\r\n      this.$router.push({ name: \"uploadPiece\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./App.vue?vue&type=template&id=058df16a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\r\n  user: {\r\n    tokenSession: '',\r\n    userInfo: null\r\n  },\r\n  error: '',\r\n  fetchingCollection: false,\r\n  fetchingPiece: false,\r\n  separator: '|',\r\n  defaultSelections: {\r\n    items: [],\r\n    itemsIDs: {\r\n      \"Rights\": 1,\r\n      \"XML Contributor Roles\": 2,\r\n      \"Creator Pieces Roles\": 3,\r\n      \"Contributor Pieces Roles\": 4,\r\n      \"Creator Sources Roles\": 5,\r\n      \"Contributor Sources Roles\": 6,\r\n      \"Types\": 7,\r\n      \"Keys\": 8,\r\n      \"Meters\": 9,\r\n      \"Tempos\": 10,\r\n      \"Instruments\": 11,\r\n      \"Genres\": 12,\r\n      \"Genders\": 13,\r\n      \"Modes\": 14\r\n    },\r\n    /*rights:['Rights statements', 'In copyright', 'In copyright - EU Orphan Work', 'In copyright - Educational Use Permitted', 'In copyright - Non-commercial Use Permitted', 'In Copyright – Rights Holder(s) Unlocatable or Unidentifiable', 'No Copyright – Contractual Restrictions', 'No Copyright – Non-commercial Use Only', 'No Copyright – Other Known Legal Restrictions', 'CC-BY (Creative Commons – Attribution', 'CC-BY-SA (Creative Commons – Attribution – Share Alike)', 'CC-BY-NC (Creative Commons – Attribution – Non-commercial)', 'CC-BY-NC-SA (Creative Commons – Attribution – Non-commercial – Share Alike)', 'CC-BY-ND (Creative Commons – Attribution – No Derivatives)', 'CC-BY-NC-ND (Creative Commons – Attribution – Non-commercial – No Derivatives)', 'CC-0 (CC Zero)', 'Public domain mark'],\r\n    rightsMapping: {\r\n      'Rights statements': 11,\r\n      'In copyright': 12,\r\n      'In copyright - EU Orphan Work': 13,\r\n      'In copyright - Educational Use Permitted': 14,\r\n      'In copyright - Non-commercial Use Permitted': 15,\r\n      'In Copyright – Rights Holder(s) Unlocatable or Unidentifiable': 16,\r\n      'No Copyright – Contractual Restrictions': 17,\r\n      'No Copyright – Non-commercial Use Only': 18,\r\n      'No Copyright – Other Known Legal Restrictions': 19,\r\n      'CC-BY (Creative Commons – Attribution': 110,\r\n      'CC-BY-SA (Creative Commons – Attribution – Share Alike)': 111,\r\n      'CC-BY-NC (Creative Commons – Attribution – Non-commercial)': 112,\r\n      'CC-BY-NC-SA (Creative Commons – Attribution – Non-commercial – Share Alike)': 113,\r\n      'CC-BY-ND (Creative Commons – Attribution – No Derivatives)': 114,\r\n      'CC-BY-NC-ND (Creative Commons – Attribution – Non-commercial – No Derivatives)': 115,\r\n      'CC-0 (CC Zero)': 116,\r\n      'Public domain mark': 117\r\n    },\r\n    cont_rolesXML: ['Editor', 'Quality Control'],\r\n    cont_rolesXMLMapping: {\r\n      'Editor': 21,\r\n      'Quality Control': 22\r\n    },\r\n    creator_rolesp:['Collector', 'Performer', 'Singer', 'Speech', 'Composer'],\r\n    creator_rolespMapping: {\r\n      'Collector': 31,\r\n      'Performer': 32,\r\n      'Singer': 33,\r\n      'Speech': 34,\r\n      'Composer': 35\r\n    },\r\n    cont_rolesp: ['Editor', 'Arranger'],\r\n    cont_rolespMapping: {\r\n      'Editor': 41,\r\n      'Arranger': 42\r\n    },\r\n    creator_roless: ['Writer', 'Collector'],\r\n    creator_rolessMapping: {\r\n      'Writer': 51,\r\n      'Collector': 52\r\n    },\r\n    cont_roless: ['Sound engineer', 'Videographer', 'Typesetter'],\r\n    cont_rolessMapping: {\r\n      'Sound engineer': 61,\r\n      'Videographer': 62,\r\n      'Typesetter': 63\r\n    },\r\n    keys:['C', 'G', 'F', 'D', 'Bb', 'Eb', 'A'],\r\n    metres:['2/4', '3/4', '4/4', '6/8', '9/8', '12/8'],\r\n    tempos:['Slow', 'Medium', 'Fast'],\r\n    instruments:['Singer', 'Harmonium', 'Ha rmonica', 'Banjo', '5-String Banjo', 'Irish Bouzouki', 'Bodhrán', 'Accordion', 'Piano Accordion', 'Bass Clarinet', 'Early Irish Harp', 'Pedal Harp', 'Percussion Instrument', 'Bones', 'Concertina', 'English Concertina', 'Irish Harp', 'Harpsichord', 'Pedal Harp', 'Percussive Dance', 'Bass Guitar', 'Cello', 'Lambeg Drum', 'Low Whistle', 'Flute', 'Tin Whistle', 'Reed Instrument', 'Fiddle', 'Fife', 'Piccolo', 'Metal Flute', 'Drum Set', 'Wind Instrument', 'Woodwind Instrument', 'Guitar', 'Electric Guitar', 'Mandolin', 'Mandola', 'Melodeon', 'Oboe', 'Double Bass', 'Piano', 'Bagpipes', 'War Pipes', 'Pipe Organ', 'Uilleann Pipes', 'Lilting', 'Saxophone', 'Synthesizer', 'Spoons', 'Snare Drum', 'Appalachian Dulcimer', 'Hammered Dulcimer', 'String Instrument', 'Jaw Harp', 'Vocal Instrument', 'Keyboard Instrument', 'Viola'],\r\n    genres:['Sons', 'Children piece', 'Work piece', 'Lullaby piece', 'Pieces of youth', 'Wedding piece', 'Funeral piece', 'Dance', 'Accompanying songs', 'Religious songs'],\r\n    genders: ['Male', 'Female', 'Other'],\r\n    types:['Collection', 'Dataset', 'Event', 'Image', 'InteractiveResource', 'MovingImage', 'PhysicalObject', 'Service', 'Software', 'Sound', 'StillImage', 'Text'],\r\n    typesMapping: {\r\n      'Collection': 71,\r\n      'Dataset': 72,\r\n      'Event': 73,\r\n      'Image': 74,\r\n      'InteractiveResource': 75,\r\n      'MovingImage': 76,\r\n      'PhysicalObject': 77,\r\n      'Service': 78,\r\n      'Software': 79,\r\n      'Sound': 710,\r\n      'StillImage': 711,\r\n      'Text': 712\r\n    },\r\n    collectionsIDs: []*/\r\n  },\r\n  pieceForm: {\r\n    title: '',\r\n    rights: '',\r\n    creator: '',\r\n    date: null,\r\n    type_file: '',\r\n    publisher: '',\r\n    contributor_role: [],\r\n    desc: '',\r\n    rightsp: '', //rightsp\r\n    creatorp_role: [],\r\n    datep: null, // datep\r\n    real_key: '', // real_key\r\n    meter: '', // meter\r\n    tempo: '',\r\n    instruments: [], // instruments\r\n    genre: [],\r\n    contributorp_role: [], // contributorp_role\r\n    alt_title: '', // alt_title\r\n    mode: '',\r\n    descp: '', // descp\r\n    type_piece: '', // type_piece\r\n    formattingp: '', // formattingp\r\n    subject: '',\r\n    language: '',\r\n    relationp: '', // relationp\r\n    hasVersion: '',\r\n    isVersionOf: '',\r\n    coverage: '',\r\n    spatial: {\r\n      country: '',\r\n      state: '',\r\n      location: ''\r\n    },\r\n    temporal: {\r\n      century: '',\r\n      decade: '',\r\n      year: ''\r\n    },\r\n    // Estos se mandan como un flujo de bytes\r\n    xml: '',\r\n    mei: '',\r\n    midi: '',\r\n    // Estos se mandan como URL a youtube, drive, ...\r\n    audio: '',\r\n    video: '',\r\n    user_id: '',\r\n    col_id: '' // ID de la colección. Por tanto, primero tiene que crear la colección y después meter los otros formularios.\r\n  },\r\n  collectionForm: {\r\n    title: '',\r\n    rights: '', // rights\r\n    date: null,\r\n    creator_role: [],\r\n    contributor_role: [], // contributor_role\r\n    source_type: '', // source_type\r\n    source: '',\r\n    description: '',\r\n    formatting: '', // formatting\r\n    extent: '',\r\n    publisher: '',\r\n    subject: '',\r\n    language: '',\r\n    relation: '',\r\n    coverage: '',\r\n    spatial: {\r\n      country: '',\r\n      state: '',\r\n      location: ''\r\n    },\r\n    temporal: {\r\n      century: '',\r\n      decade: '',\r\n      year: ''\r\n    },\r\n    rights_holder: '',\r\n    piece_col: []\r\n  },\r\n  pieces: [],\r\n  collections: [],\r\n  pieceSelected: {\r\n    title: [\"Titulo\"],\r\n    rights: 17,\r\n    creator: \"Creator\",\r\n    date: \"5 August 2023\",\r\n    type_file: 74,\r\n    publisher: \"Publisher\",\r\n    contributor_role: [\r\n      {\r\n        name: \"Contributor\",\r\n        role: 22\r\n      }\r\n    ],\r\n    desc: \"Description\",\r\n    rightsp: 111,\r\n    creatorp_role: [\r\n      {\r\n        name: \"Creador1\",\r\n        role: 34\r\n      }\r\n    ],\r\n    datep: \"5 August 2023\",\r\n    real_key: \"D\",\r\n    meter: \"9/8\",\r\n    tempo: \"Fast\",\r\n    instruments: [\"Banjo\", \"5-String Banjo\", \"Irish Bouzouki\"],\r\n    genre: [\"Work piece\", \"Sons\"],\r\n    contributorp_role: [\r\n      {\r\n        name: \"Contributor\",\r\n        role: 42\r\n      }\r\n    ],\r\n    alt_title: \"AltTitle\",\r\n    mode: \"Mode\",\r\n    descp: \"Decription\",\r\n    type_piece: 75,\r\n    formattingp: \"Format\",\r\n    subject: [\"Subject\"],\r\n    language: \"IE\",\r\n    relationp: [\"Relation1\", \"Relation2\"],\r\n    hasVersion: [\"Version\"],\r\n    isVersionOf: [\"Is\", \"2\"],\r\n    coverage: \"Coverage\",\r\n    spatial: {\r\n      country: \"Ireland\",\r\n      state: \"Dublin\",\r\n      location: \"Dublin\"\r\n    },\r\n    temporal: {\r\n      century: \"20th\",\r\n      decade: \"10s\",\r\n      year: \"1914\"\r\n    },\r\n    xml: \"\",\r\n    mei: \"\",\r\n    midi: \"\",\r\n    audio: \"Audio1\",\r\n    video: \"Video1\",\r\n    user_id: 1,\r\n    col_id: 1\r\n  },\r\n  collectionSelected: {},\r\n  users: []\r\n}\r\n","/**\r\n * @module MutationTypes\r\n * \r\n * @description En este fichero se encuentran las macros correspondientes con cada uno de los tipos de mutaciones que existen en el sistema\r\n */\r\n\r\nexport const LOGIN_USER_REQUEST = 'LOGIN_USER_REQUEST'\r\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS'\r\nexport const LOGIN_USER_FAILURE = 'LOGIN_USER_FAILURE'\r\n\r\nexport const REGISTER_USER_REQUEST = 'REGISTER_USER_REQUEST'\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS'\r\nexport const REGISTER_USER_FAILURE = 'REGISTER_USER_FAILURE'\r\n\r\nexport const RESET_PASSWORD_REQUEST = 'RESET_PASSWORD_REQUEST'\r\nexport const RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS'\r\nexport const RESET_PASSWORD_FAILURE = 'RESET_PASSWORD_FAILURE'\r\n\r\nexport const CHANGE_PASSWORD_SUCCESS = 'CHANGE_PASSWORD_SUCCESS'\r\nexport const CHANGE_PASSWORD_FAILURE = 'CHANGE_PASSWORD_FAILURE'\r\n\r\nexport const CHANGE_INFO_SUCCESS = 'CHANGE_INFO_SUCCESS'\r\nexport const CHANGE_INFO_FAILURE = 'CHANGE_INFO_FAILURE'\r\n\r\nexport const DELETE_ACCOUNT_REQUEST = 'DELETE_ACCOUNT_REQUEST'\r\nexport const DELETE_ACCOUNT_SUCCESS = 'DELETE_ACCOUNT_SUCCESS'\r\nexport const DELETE_ACCOUNT_FAILURE = 'DELETE_ACCOUNT_FAILURE'\r\n\r\nexport const FETCH_IMAGES_REQUEST = 'FETCH_IMAGES_REQUEST'\r\nexport const FETCH_IMAGES_SUCCESS = 'FETCH_IMAGES_SUCCESS'\r\nexport const FETCH_IMAGES_FAILURE = 'FETCH_IMAGES_FAILURE'\r\n\r\nexport const FETCH_COMMENTS_REQUEST = 'FETCH_COMMENTS_REQUEST'\r\nexport const FETCH_COMMENTS_SUCCESS = 'FETCH_COMMENTS_SUCCESS'\r\nexport const FETCH_COMMENTS_FAILURE = 'FETCH_COMMENTS_FAILURE'\r\n\r\nexport const LOG_OUT_SUCCESS = 'LOG_OUT_SUCCESS'\r\nexport const LOG_OUT_FAILURE = 'LOG_OUT_FAILURE'\r\n\r\nexport const GEN_SOUNDSCAPE_REQUEST = 'GEN_SOUNDSCAPE_REQUEST'\r\nexport const GEN_SOUNDSCAPE_SUCCESS = 'GEN_SOUNDSCAPE_SUCCESS'\r\nexport const GEN_SOUNDSCAPE_FAILURE = 'GEN_SOUNDSCAPE_FAILURE'\r\n\r\nexport const ADD_USER_CONTRIBUTOR = 'ADD_USER_CONTRIBUTOR'\r\nexport const ADD_SHEET_CONTRIBUTOR = 'ADD_SHEET_CONTRIBUTOR'\r\nexport const ADD_COLLECTION_CONTRIBUTOR = 'ADD_COLLECTION_CONTRIBUTOR'\r\nexport const ADD_SHEET_CREATOR = 'ADD_SHEET_CREATOR'\r\nexport const ADD_COLLECTION_CREATOR = 'ADD_COLLECTION_CREATOR'\r\n\r\nexport const REMOVE_USER_CONTRIBUTOR = 'REMOVE_USER_CONTRIBUTOR'\r\nexport const REMOVE_SHEET_CONTRIBUTOR = 'REMOVE_SHEET_CONTRIBUTOR'\r\nexport const REMOVE_COLLECTION_CONTRIBUTOR = 'REMOVE_COLLECTION_CONTRIBUTOR'\r\nexport const REMOVE_SHEET_CREATOR = 'REMOVE_SHEET_CREATOR'\r\nexport const REMOVE_COLLECTION_CREATOR = 'REMOVE_COLLECTION_CREATOR'\r\n\r\nexport const SAVE_COLLECTION_DATE = 'SAVE_COLLECTION_DATE'\r\nexport const SAVE_SHEET_DATE = 'SAVE_SHEET_DATE'\r\nexport const SAVE_USER_DATE = 'SAVE_USER_DATE'\r\n\r\nexport const UPLOAD_COLLECTION_REQUEST = 'UPLOAD_COLLECTION_REQUEST'\r\nexport const UPLOAD_COLLECTION_SUCCESS = 'UPLOAD_COLLECTION_SUCCESS'\r\nexport const UPLOAD_COLLECTION_FAILURE = 'UPLOAD_COLLECTION_FAILURE'\r\n\r\nexport const EDIT_COLLECTION_REQUEST = 'EDIT_COLLECTION_REQUEST'\r\nexport const EDIT_COLLECTION_SUCCESS = 'EDIT_COLLECTION_SUCCESS'\r\nexport const EDIT_COLLECTION_FAILURE = 'EDIT_COLLECTION_FAILURE'\r\n\r\nexport const REMOVE_COLLECTION_REQUEST = 'REMOVE_COLLECTION_REQUEST'\r\nexport const REMOVE_COLLECTION_SUCCESS = 'REMOVE_COLLECTION_SUCCESS'\r\nexport const REMOVE_COLLECTION_FAILURE = 'REMOVE_COLLECTION_FAILURE'\r\n\r\nexport const UPLOAD_PIECE_REQUEST = 'UPLOAD_PIECE_REQUEST'\r\nexport const UPLOAD_PIECE_SUCCESS = 'UPLOAD_PIECE_SUCCESS'\r\nexport const UPLOAD_PIECE_FAILURE = 'UPLOAD_PIECE_FAILURE'\r\n\r\nexport const EDIT_PIECE_REQUEST = 'EDIT_PIECE_REQUEST'\r\nexport const EDIT_PIECE_SUCCESS = 'EDIT_PIECE_SUCCESS'\r\nexport const EDIT_PIECE_FAILURE = 'EDIT_PIECE_FAILURE'\r\n\r\nexport const REMOVE_PIECE_REQUEST = 'REMOVE_PIECE_REQUEST'\r\nexport const REMOVE_PIECE_SUCCESS = 'REMOVE_PIECE_SUCCESS'\r\nexport const REMOVE_PIECE_FAILURE = 'REMOVE_PIECE_FAILURE'\r\n\r\nexport const ADD_NEW_ITEM_REQUEST = 'ADD_NEW_ITEM_REQUEST'\r\nexport const ADD_NEW_ITEM_SUCCESS = 'ADD_NEW_ITEM_SUCCESS'\r\nexport const ADD_NEW_ITEM_FAILURE = 'ADD_NEW_ITEM_FAILURE'\r\n\r\nexport const REMOVE_ITEM_REQUEST = 'REMOVE_ITEM_REQUEST'\r\nexport const REMOVE_ITEM_SUCCESS = 'REMOVE_ITEM_SUCCESS'\r\nexport const REMOVE_ITEM_FAILURE = 'REMOVE_ITEM_FAILURE'\r\n\r\nexport const EDIT_ITEM_REQUEST = 'EDIT_ITEM_REQUEST'\r\nexport const EDIT_ITEM_SUCCESS = 'EDIT_ITEM_SUCCESS'\r\nexport const EDIT_ITEM_FAILURE = 'EDIT_ITEM_FAILURE'\r\n\r\nexport const FETCH_ITEMS = 'FETCH_ITEMS'\r\nexport const FETCH_COLLECTIONS = 'FETCH_COLLECTIONS'\r\nexport const FETCH_PIECES = 'FETCH_PIECES'\r\nexport const FETCH_USERS = 'FETCH_USERS'\r\n\r\nexport const GET_PIECE_SUCCESS = 'GET_PIECE_SUCCESS'\r\nexport const GET_PIECE_FAILURE = 'GET_PIECE_FAILURE'\r\n\r\nexport const GET_COLLECTION_SUCCESS = 'GET_COLLECTION_SUCCESS'\r\nexport const GET_COLLECTION_FAILURE = 'GET_COLLECTION_FAILURE'\r\n\r\nexport const GET_PIECES_COLLECTION_SUCCESS = 'GET_PIECES_COLLECTION_SUCCESS'\r\nexport const GET_PIECES_COLLECTION_FAILURE = 'GET_PIECES_COLLECTION_FAILURE'\r\n\r\nexport const RESET_PIECE_FORM = 'RESET_PIECE_FORM'\r\nexport const RESET_COLLECTION_FORM = 'RESET_COLLECTION_FORM'\r\n\r\nexport const ADVANCED_SEARCH_FAILURE = 'ADVANCED_SEARCH_FAILURE'\r\n\r\nexport const IMPORT_DATA_FAILURE = 'IMPORT_DATA_FAILURE'\r\nexport const IMPORT_DATA_SUCCESS = 'IMPORT_DATA_SUCCESS'\r\n\r\nexport const EDIT_USER_SUCCESS = 'EDIT_USER_SUCCESS'\r\nexport const EDIT_USER_FAILURE = 'EDIT_USER_FAILURE'\r\n","import * as types from './mutations-types'\r\n\r\n/**\r\n * @module Mutations\r\n * \r\n * @description En este fichero se detalla cada una de las mutaciones que se producen del estado del sistema.\r\n */\r\n\r\nexport default {\r\n  [types.LOGIN_USER_REQUEST](state) {\r\n    state.fetchingUser = true\r\n    state.error = ''\r\n  },\r\n\r\n  [types.LOGIN_USER_SUCCESS](state, { userInfo, token }) {\r\n    state.fetchingUser = false\r\n    state.user.tokenSession = token\r\n    state.user.userInfo = userInfo\r\n    state.error = ''\r\n  },\r\n\r\n  [types.LOGIN_USER_FAILURE](state, { error }) {\r\n    state.fetchingUser = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.REGISTER_USER_REQUEST](state) {\r\n    state.fetchingUser = true\r\n    state.error = ''\r\n  },\r\n\r\n  [types.REGISTER_USER_SUCCESS](state) {\r\n    state.fetchingUser = false\r\n    state.error = ''\r\n  },\r\n\r\n  [types.REGISTER_USER_FAILURE](state, { error }) {\r\n    state.fetchingUser = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.RESET_PASSWORD_REQUEST](state) {\r\n    state.error = ''\r\n    state.changingPass = true\r\n  },\r\n\r\n  [types.RESET_PASSWORD_SUCCESS](state) {\r\n    state.error = ''\r\n    state.changingPass = false\r\n  },\r\n\r\n  [types.RESET_PASSWORD_FAILURE](state, { error }) {\r\n    state.error = error\r\n    state.changingPass = false\r\n  },\r\n\r\n  [types.CHANGE_PASSWORD_SUCCESS](state) {\r\n    state.error = ''\r\n  },\r\n\r\n  [types.CHANGE_PASSWORD_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.LOG_OUT_SUCCESS](state) {\r\n    state.user.tokenSession = ''\r\n    state.user.userInfo = null\r\n  },\r\n\r\n  [types.DELETE_ACCOUNT_REQUEST](state) {\r\n    state.error = ''\r\n  },\r\n\r\n  [types.DELETE_ACCOUNT_FAILURE](state, { error }) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.DELETE_ACCOUNT_SUCCESS](state) {\r\n    state.pieces = []\r\n    state.collection = []\r\n    state.user.tokenSession = ''\r\n    state.user.userInfo = null\r\n  },\r\n\r\n  ['REMOVE_TOKEN_SESSION'](state) {\r\n    state.user.tokenSession = ''\r\n    state.user.userInfo = null\r\n  },\r\n\r\n  ['REFRESH_TOKEN_SESSION'](state, token) {\r\n    state.user.tokenSession = token\r\n  },\r\n\r\n  [types.FETCH_IMAGES_REQUEST](state, start) {\r\n    if (start === '')\r\n      state.images = []\r\n    state.error = ''\r\n    state.fetchingImages = true\r\n  },\r\n\r\n  [types.FETCH_IMAGES_SUCCESS](state, images) {\r\n    state.fetchingImages = false\r\n    state.error = ''\r\n    if (images.length) {\r\n      if (!state.images.length) {\r\n        state.images = images\r\n      } else {\r\n        state.images.push(...images)\r\n      }\r\n      if (images.length < 20) {\r\n        state.noImages = false\r\n      } else {\r\n        state.noImages = true\r\n      }\r\n    } else {\r\n      state.noImages = false\r\n    }\r\n  },\r\n\r\n  [types.FETCH_IMAGES_FAILURE](state, error) {\r\n    state.error = error\r\n    state.fetchingImages = false\r\n  },\r\n\r\n  [types.FETCH_COMMENTS_REQUEST](state, start) {\r\n    state.error = ''\r\n    if (start === '')\r\n      state.comments = []\r\n  },\r\n\r\n  [types.FETCH_COMMENTS_SUCCESS](state, comments) {\r\n    state.fetchingImages = false\r\n    state.error = ''\r\n    if (comments.length) {\r\n      if (!state.comments.length) {\r\n        state.comments = comments\r\n      } else {\r\n        state.comments.push(...comments)\r\n      }\r\n      if (comments.length < 10) {\r\n        state.noComments = false\r\n      } else {\r\n        state.noComments = true\r\n      }\r\n    } else {\r\n      state.noComments = false\r\n    }\r\n  },\r\n\r\n  [types.FETCH_COMMENTS_FAILURE](state, { error }) {\r\n    state.error = error\r\n    state.fetchingImages = false\r\n  },\r\n\r\n  [types.GEN_SOUNDSCAPE_REQUEST](state) {\r\n    state.generatingSoundscape = true\r\n    state.soundscapeGenerated = false\r\n    state.error = ''\r\n  },\r\n\r\n  [types.GEN_SOUNDSCAPE_SUCCESS](state, { url, id }) {\r\n    state.generatingSoundscape = false\r\n    state.error = ''\r\n    state.soundscapeGenerated = true\r\n    var element = state.images.find(image => image.id === id)\r\n    element.esPublico = true\r\n    element.soundscape = url\r\n  },\r\n\r\n  [types.GEN_SOUNDSCAPE_FAILURE](state, { error }) {\r\n    state.generatingSoundscape = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.ADD_USER_CONTRIBUTOR](state) {\r\n    state.pieceForm.contributor_role.push({ name: '', role: '' })\r\n  },\r\n\r\n  [types.ADD_SHEET_CONTRIBUTOR](state) {\r\n    state.pieceForm.contributorp_role.push({ name: '', role: '' })\r\n  },\r\n\r\n  [types.ADD_COLLECTION_CONTRIBUTOR](state) {\r\n    state.collectionForm.contributor_role.push({ name: '', role: '' })\r\n  },\r\n\r\n  [types.ADD_SHEET_CREATOR](state) {\r\n    state.pieceForm.creatorp_role.push({ name: '', role: '', gender: '' })\r\n  },\r\n\r\n  [types.ADD_COLLECTION_CREATOR](state) {\r\n    state.collectionForm.creator_role.push({ name: '', role: '' })\r\n  },\r\n\r\n  [types.REMOVE_USER_CONTRIBUTOR](state, index) {\r\n    state.pieceForm.contributor_role.splice(index, 1)\r\n  },\r\n\r\n  [types.REMOVE_COLLECTION_CREATOR](state, index) {\r\n    state.collectionForm.creator_role.splice(index, 1)\r\n  },\r\n\r\n  [types.REMOVE_SHEET_CONTRIBUTOR](state, index) {\r\n    state.pieceForm.contributorp_role.splice(index, 1)\r\n  },\r\n\r\n  [types.REMOVE_COLLECTION_CONTRIBUTOR](state, index) {\r\n    state.collectionForm.contributor_role.splice(index, 1)\r\n  },\r\n\r\n  [types.REMOVE_SHEET_CREATOR](state, index) {\r\n    state.pieceForm.creatorp_role.splice(index, 1)\r\n  },\r\n\r\n  [types.SAVE_COLLECTION_DATE](state, date) {\r\n    state.collectionForm.date = date\r\n  },\r\n\r\n  /**\r\n   * UPDATE OF USER FORM FIELDS\r\n   * \r\n   * Each following method update the corresponding field of the user form in the vuex state\r\n   */\r\n\r\n  ['UPDATE_USER_ID'](state, id) {\r\n    state.pieceForm.identifier = id\r\n  },\r\n\r\n  ['UPDATE_USER_TITLE'](state, title) {\r\n    state.pieceForm.title = title\r\n  },\r\n\r\n  ['UPDATE_USER_RIGHT'](state, right) {\r\n    state.pieceForm.rights = right\r\n  },\r\n\r\n  ['UPDATE_USER_CREATOR'](state, creator) {\r\n    state.pieceForm.creator = creator\r\n  },\r\n\r\n  [types.SAVE_USER_DATE](state, date) {\r\n    state.pieceForm.date = date\r\n  },\r\n\r\n  ['UPDATE_USER_TYPE'](state, type) {\r\n    state.pieceForm.type_file = type\r\n  },\r\n\r\n  ['UPDATE_USER_PUBLISHER'](state, publisher) {\r\n    state.pieceForm.publisher = publisher\r\n  },\r\n\r\n  ['UPDATE_USER_CONTRIBUTOR'](state, contribuidores) {\r\n    state.pieceForm.contributor_role = structuredClone(contribuidores)\r\n  },\r\n\r\n  ['UPDATE_USER_DESCRIPTION'](state, description) {\r\n    state.pieceForm.desc = description\r\n  },\r\n\r\n  /**\r\n   * UPDATE OF SHEET FORM FIELDS\r\n   * \r\n   * Each following method update the corresponding field of the sheet form in the vuex state\r\n   */\r\n\r\n  ['UPDATE_SHEET_RIGHT'](state, right) {\r\n    state.pieceForm.rightsp = right\r\n  },\r\n\r\n  ['UPDATE_SHEET_CREATOR'](state, creators) {\r\n    state.pieceForm.creatorp_role = structuredClone(creators)\r\n  },\r\n\r\n  [types.SAVE_SHEET_DATE](state, date) {\r\n    state.pieceForm.datep = date\r\n  },\r\n\r\n  ['UPDATE_SHEET_KEY'](state, key) {\r\n    state.pieceForm.real_key = key\r\n  },\r\n\r\n  ['UPDATE_SHEET_METRE'](state, metre) {\r\n    state.pieceForm.meter = metre\r\n  },\r\n\r\n  ['UPDATE_SHEET_TEMPO'](state, tempo) {\r\n    state.pieceForm.tempo = tempo\r\n  },\r\n\r\n  ['UPDATE_SHEET_INSTRUMENT'](state, instrument) {\r\n    state.pieceForm.instruments = instrument\r\n  },\r\n\r\n  ['UPDATE_SHEET_GENRE'](state, genre) {\r\n    state.pieceForm.genre = genre\r\n  },\r\n\r\n  ['UPDATE_SHEET_CONTRIBUTOR'](state, contributors) {\r\n    state.pieceForm.contributorp_role = structuredClone(contributors)\r\n  },\r\n\r\n  ['UPDATE_SHEET_ALTTITLE'](state, altTitle) {\r\n    state.pieceForm.alt_title = altTitle\r\n  },\r\n\r\n  ['UPDATE_SHEET_MODE'](state, mode) {\r\n    state.pieceForm.mode = mode\r\n  },\r\n\r\n  ['UPDATE_SHEET_DESCRIPTION'](state, description) {\r\n    state.pieceForm.descp = description\r\n  },\r\n\r\n  ['UPDATE_SHEET_TYPE'](state, type) {\r\n    state.pieceForm.type_piece = type\r\n  },\r\n\r\n  ['UPDATE_SHEET_FORMAT'](state, format) {\r\n    state.pieceForm.formattingp = format\r\n  },\r\n\r\n  ['UPDATE_SHEET_SUBJECT'](state, subject) {\r\n    state.pieceForm.subject = subject\r\n  },\r\n\r\n  ['UPDATE_SHEET_LANGUAGE'](state, language) {\r\n    state.pieceForm.language = language\r\n  },\r\n\r\n  ['UPDATE_SHEET_RELATION'](state, relation) {\r\n    state.pieceForm.relationp = relation\r\n  },\r\n\r\n  ['UPDATE_SHEET_HASVERSION'](state, hasVersion) {\r\n    state.pieceForm.hasVersion = hasVersion\r\n  },\r\n\r\n  ['UPDATE_SHEET_ISVERSIONOF'](state, isVersionOf) {\r\n    state.pieceForm.isVersionOf = isVersionOf\r\n  },\r\n\r\n  ['UPDATE_SHEET_COVERAGE'](state, coverage) {\r\n    state.pieceForm.coverage = coverage\r\n  },\r\n\r\n  ['UPDATE_SHEET_SPATIALCOUNTRY'](state, country) {\r\n    state.pieceForm.spatial.country = country\r\n  },\r\n\r\n  ['UPDATE_SHEET_SPATIALSTATE'](state, state2) {\r\n    state.pieceForm.spatial.state = state2\r\n  },\r\n\r\n  ['UPDATE_SHEET_SPATIALLOCATION'](state, location) {\r\n    state.pieceForm.spatial.location = location\r\n  },\r\n\r\n  ['UPDATE_SHEET_TEMPORALCENTURY'](state, century) {\r\n    state.pieceForm.temporal.century = century\r\n  },\r\n\r\n  ['UPDATE_SHEET_TEMPORALDECADE'](state, decade) {\r\n    state.pieceForm.temporal.decade = decade\r\n  },\r\n\r\n  ['UPDATE_SHEET_TEMPORALYEAR'](state, year) {\r\n    state.pieceForm.temporal.year = year\r\n  },\r\n\r\n  ['UPDATE_SHEET_XML'](state, xml) {\r\n    state.pieceForm.xml = xml\r\n  },\r\n\r\n  ['UPDATE_SHEET_MEI'](state, mei) {\r\n    state.pieceForm.mei = mei\r\n  },\r\n\r\n  ['UPDATE_SHEET_MIDI'](state, midi) {\r\n    state.pieceForm.midi = midi\r\n  },\r\n\r\n  ['UPDATE_SHEET_AUDIO'](state, audio) {\r\n    state.pieceForm.audio = audio\r\n  },\r\n\r\n  ['UPDATE_SHEET_VIDEO'](state, video) {\r\n    state.pieceForm.video = video\r\n  },\r\n\r\n  ['UPDATE_SHEET_COLID'](state, col_id) {\r\n    state.pieceForm.col_id = col_id\r\n  },\r\n\r\n  /**\r\n   * UPDATE OF COLLECTION FORM FIELDS\r\n   * \r\n   * Each following method update the corresponding field of the collection form in the vuex state\r\n   */\r\n\r\n  ['UPDATE_COLLECTION_TITLE'](state, title) {\r\n    state.collectionForm.title = title\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_RIGHT'](state, right) {\r\n    state.collectionForm.rights = right\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_CREATOR'](state, creators) {\r\n    state.collectionForm.creator_role = structuredClone(creators)\r\n  },\r\n\r\n  [types.SAVE_COLLECTION_DATE](state, date) {\r\n    state.collectionForm.date = date\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_CONTRIBUTOR'](state, contributors) {\r\n    state.collectionForm.contributor_role = structuredClone(contributors)\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_EXTENT'](state, extent) {\r\n    state.collectionForm.extent = extent\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_DESCRIPTION'](state, description) {\r\n    state.collectionForm.description = description\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_TYPE'](state, type) {\r\n    state.collectionForm.source_type = type\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_FORMAT'](state, formatting) {\r\n    state.collectionForm.formatting = formatting\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_SUBJECT'](state, subject) {\r\n    state.collectionForm.subject = subject\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_LANGUAGE'](state, language) {\r\n    state.collectionForm.language = language\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_RELATION'](state, relation) {\r\n    state.collectionForm.relation = relation\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_PUBLISHER'](state, publisher) {\r\n    state.collectionForm.publisher = publisher\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_COVERAGE'](state, coverage) {\r\n    state.collectionForm.coverage = coverage\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_SPATIALCOUNTRY'](state, country) {\r\n    state.collectionForm.spatial.country = country\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_SPATIALSTATE'](state, state2) {\r\n    state.collectionForm.spatial.state = state2\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_SPATIALLOCATION'](state, location) {\r\n    state.collectionForm.spatial.location = location\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_TEMPORALCENTURY'](state, century) {\r\n    state.collectionForm.temporal.century = century\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_TEMPORALDECADE'](state, decade) {\r\n    state.collectionForm.temporal.decade = decade\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_TEMPORALYEAR'](state, year) {\r\n    state.collectionForm.temporal.year = year\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_SOURCE'](state, source) {\r\n    state.collectionForm.source = source\r\n  },\r\n\r\n  ['UPDATE_COLLECTION_rights_holder'](state, rights_holder) {\r\n    state.collectionForm.rights_holder = rights_holder\r\n  },\r\n\r\n\r\n  ['RESET_ERROR'](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  /**\r\n   * Uploading data mutations: piece and collections\r\n   */\r\n\r\n  [types.UPLOAD_COLLECTION_REQUEST](state) {\r\n    state.fetchingCollection = true\r\n  },\r\n\r\n  [types.UPLOAD_COLLECTION_SUCCESS](state) {\r\n    state.fetchingCollection = false\r\n  },\r\n\r\n  [types.UPLOAD_COLLECTION_FAILURE](state, error) {\r\n    state.fetchingCollection = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.EDIT_COLLECTION_REQUEST](state) {\r\n    state.fetchingCollection = true\r\n  },\r\n\r\n  [types.EDIT_COLLECTION_SUCCESS](state, { collection, id }) {\r\n    const indexToDelete = state.collections.findIndex(item => item.col_id === id);\r\n    state.collections.splice(indexToDelete, 1);\r\n    const newCol = {\r\n      col_id: id,\r\n      title: collection.title.split('|'),\r\n    }\r\n    state.collections.push(newCol)\r\n    state.fetchingCollection = false\r\n  },\r\n\r\n  [types.EDIT_COLLECTION_FAILURE](state, error) {\r\n    state.fetchingCollection = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.REMOVE_COLLECTION_REQUEST](state) {\r\n    state.fetchingCollection = true\r\n  },\r\n\r\n  [types.REMOVE_COLLECTION_SUCCESS](state, id) {\r\n    const indexToDelete = state.collections.findIndex(item => item.col_id === id);\r\n    state.collections.splice(indexToDelete, 1);\r\n    state.fetchingCollection = false\r\n  },\r\n\r\n  [types.REMOVE_COLLECTION_FAILURE](state, error) {\r\n    state.fetchingCollection = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.UPLOAD_PIECE_REQUEST](state) {\r\n    state.fetchingPiece = true\r\n  },\r\n\r\n  [types.UPLOAD_PIECE_SUCCESS](state) {\r\n    state.fetchingPiece = false\r\n  },\r\n\r\n  [types.UPLOAD_PIECE_FAILURE](state, error) {\r\n    state.fetchingPiece = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.EDIT_PIECE_REQUEST](state) {\r\n    state.fetchingPiece = true\r\n  },\r\n\r\n  [types.EDIT_PIECE_SUCCESS](state, { piece, id }) {\r\n    const indexToDelete = state.pieces.findIndex(item => item.music_id === id);\r\n    state.pieces.splice(indexToDelete, 1);\r\n    const newPiece = {\r\n      music_id: id,\r\n      title: piece.title,\r\n    }\r\n    state.pieces.push(newPiece)\r\n    state.fetchingPiece = false\r\n  },\r\n\r\n  [types.EDIT_PIECE_FAILURE](state, error) {\r\n    state.fetchingPiece = false\r\n    state.error = error\r\n  },\r\n\r\n  [types.REMOVE_PIECE_REQUEST](state) {\r\n    state.fetchingPiece = true\r\n  },\r\n\r\n  [types.REMOVE_PIECE_SUCCESS](state, id) {\r\n    const indexToDelete = state.pieces.findIndex(item => item.music_id === id);\r\n    state.pieces.splice(indexToDelete, 1);\r\n    state.fetchingPiece = false\r\n  },\r\n\r\n  [types.REMOVE_PIECE_FAILURE](state, error) {\r\n    state.fetchingPiece = false\r\n    state.error = error\r\n  },\r\n\r\n  /**\r\n   * ADD AND REMOVE ITEMS MUTATIONS\r\n   */\r\n\r\n  [types.ADD_NEW_ITEM_SUCCESS](state, item) {\r\n    state.defaultSelections.items.push(item)\r\n  },\r\n\r\n  [types.ADD_NEW_ITEM_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.REMOVE_ITEM_SUCCESS](state, item) {\r\n    state.defaultSelections.items = state.defaultSelections.items.filter(it => it !== item);\r\n  },\r\n\r\n  [types.REMOVE_ITEM_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.EDIT_ITEM_SUCCESS](state, { id, id_type, newName }) {\r\n    const editedItemIndex = state.defaultSelections.items.findIndex(\r\n      (item) =>\r\n        item.id === id && item.type_item === id_type\r\n    )\r\n    state.defaultSelections.items[editedItemIndex].name = newName\r\n  },\r\n\r\n  [types.EDIT_ITEM_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.FETCH_ITEMS](state, items) {\r\n    state.defaultSelections.items = items\r\n  },\r\n\r\n  [types.FETCH_COLLECTIONS](state, colls) {\r\n    state.collections = colls\r\n  },\r\n\r\n  [types.FETCH_PIECES](state, pieces) {\r\n    state.pieces = pieces\r\n  },\r\n\r\n  [types.FETCH_USERS](state, users) {\r\n    state.users = users.users\r\n  },\r\n\r\n  [types.GET_PIECE_SUCCESS](state, piece) {\r\n    state.pieceForm = piece\r\n  },\r\n\r\n  [types.GET_PIECE_FAILURE](state, err) {\r\n    state.error = err\r\n  },\r\n\r\n  [types.GET_COLLECTION_SUCCESS](state, collection) {\r\n    state.collectionForm = collection\r\n  },\r\n\r\n  [types.GET_COLLECTION_FAILURE](state, err) {\r\n    state.error = err\r\n  },\r\n\r\n  [types.GET_PIECES_COLLECTION_SUCCESS](state, pieces) {\r\n    state.collectionForm.pieces = pieces\r\n  },\r\n\r\n  [types.GET_PIECES_COLLECTION_FAILURE](state, err) {\r\n    state.error = err\r\n  },\r\n\r\n  [types.RESET_PIECE_FORM](state) {\r\n    state.pieceForm = {\r\n      title: '',\r\n      rights: '',\r\n      creator: '',\r\n      date: null,\r\n      type_file: '',\r\n      publisher: '',\r\n      contributor_role: [],\r\n      desc: '',\r\n      rightsp: '', //rightsp\r\n      creatorp_role: [],\r\n      datep: null, // datep\r\n      real_key: '', // real_key\r\n      meter: '', // meter\r\n      tempo: '',\r\n      instruments: [], // instruments\r\n      genre: [],\r\n      contributorp_role: [], // contributorp_role\r\n      alt_title: '', // alt_title\r\n      mode: '',\r\n      descp: '', // descp\r\n      type_piece: '', // type_piece\r\n      formattingp: '', // formattingp\r\n      subject: '',\r\n      language: '',\r\n      relationp: '', // relationp\r\n      hasVersion: '',\r\n      isVersionOf: '',\r\n      coverage: '',\r\n      spatial: {\r\n        country: '',\r\n        state: '',\r\n        location: ''\r\n      },\r\n      temporal: {\r\n        century: '',\r\n        decade: '',\r\n        year: ''\r\n      },\r\n      // Estos se mandan como un flujo de bytes\r\n      xml: '',\r\n      mei: '',\r\n      midi: '',\r\n      // Estos se mandan como URL a youtube, drive, ...\r\n      audio: '',\r\n      video: '',\r\n      user_id: '',\r\n      col_id: '' // ID de la colección. Por tanto, primero tiene que crear la colección y después meter los otros formularios.\r\n    }\r\n  },\r\n\r\n  [types.RESET_COLLECTION_FORM](state) {\r\n    state.collectionForm = {\r\n      title: '',\r\n      rights: '', // rights\r\n      date: null,\r\n      creator_role: [],\r\n      contributor_role: [], // contributor_role\r\n      source_type: '', // source_type\r\n      source: '',\r\n      description: '',\r\n      formatting: '', // formatting\r\n      extent: '',\r\n      publisher: '',\r\n      subject: '',\r\n      language: '',\r\n      relation: '',\r\n      coverage: '',\r\n      spatial: {\r\n        country: '',\r\n        state: '',\r\n        location: ''\r\n      },\r\n      temporal: {\r\n        century: '',\r\n        decade: '',\r\n        year: ''\r\n      },\r\n      rights_holder: '',\r\n      piece_col: []\r\n    }\r\n  },\r\n\r\n  [types.ADVANCED_SEARCH_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.IMPORT_DATA_SUCCESS](state, res) {\r\n    state.pieceForm = res\r\n  },\r\n\r\n  [types.IMPORT_DATA_FAILURE](state, error) {\r\n    state.error = error\r\n  },\r\n\r\n  [types.EDIT_USER_SUCCESS](state, user) {\r\n    var userIndex = state.users.findIndex(u => u.user_id === user.user_id)\r\n    state.users.splice(userIndex, 1)\r\n    state.users.push(user)\r\n  },\r\n\r\n  [types.EDIT_USER_FAILURE](state, error) {\r\n    state.error = error\r\n  }\r\n\r\n}\r\n","import axios from 'axios'\r\n\r\nexport default {\r\n  logIn(user, password) {\r\n    const data = new URLSearchParams();\r\n    data.append('username', user);\r\n    data.append('password', password);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      //resolve([{user_id: 1, first_name:'Juanjo', last_name:'Navarro', email:'juanjo@juanjo.com', username:'juanjo', is_admin: true, institution:'USAL'},\"token\"])\r\n      axios.post('http://digifolk.usal.es/api/auth/token', data, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        })\r\n    })\r\n  },\r\n  register(email, name, surname, username, password, institution) {\r\n    const objectTemp = {\r\n      \"first_name\": name,\r\n      \"last_name\": surname,\r\n      \"email\": email,\r\n      \"username\": username,\r\n      \"is_admin\": false,\r\n      \"institution\": institution,\r\n      \"piece\": [],\r\n      \"password\": password\r\n    }\r\n    const param = JSON.stringify(objectTemp)\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/createUser', param, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          axios.post('http://digifolk.usal.es/api/sendEmail', {\r\n            \"receiver_email\": email,\r\n          },\r\n            {\r\n              headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Content-Type': 'application/json'\r\n              }\r\n            })\r\n            .then(() => {\r\n              resolve(response.data);\r\n            })\r\n            .catch(error => {\r\n              reject(error);\r\n            })\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  isAutenticated(token) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getAuth', {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      })\r\n        .then((response) => {\r\n          debugger\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        })\r\n    })\r\n  },\r\n  changePassword(id, newPassword, currentPassword) {\r\n    const param = {\r\n      \"old_password\": currentPassword,\r\n      \"new_password\": newPassword,\r\n      \"user_id\": id\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/editPassword', param, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  deleteAccount(email, id, username) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.delete('http://digifolk.usal.es/api/removeUser', {\r\n        params: {\r\n          email: email,\r\n          id: id,\r\n          username: username\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  uploadCollection(json) {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(json)\r\n      axios.post('http://digifolk.usal.es/api/createCol', json, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  uploadPiece(json) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/createPiece', json, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  getCollection(collection) {\r\n    const obj = {\r\n      id: collection\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getCol', {\r\n        params: obj\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  getPiecesCollection(collection) {\r\n    const obj = {\r\n      id: collection\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getPiecesFromCol', {\r\n        params: obj\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  editPiece(json) {\r\n    console.log(json)\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/editPiece', json, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  editCollection(json) {\r\n    return new Promise((resolve, reject) => {\r\n      const query = 'http://digifolk.usal.es/api/editCol'\r\n      console.log(query)\r\n      axios.post(query, json\r\n      )\r\n        .then((response) => {\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  addItem(id, typeId, newItem) {\r\n    const obj = {\r\n      \"id\": id,\r\n      \"type_item\": typeId,\r\n      \"name\": newItem\r\n    }\r\n    const param = JSON.stringify(obj)\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/createItem', param, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve(obj);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  removeItem(id, typeId) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.delete('http://digifolk.usal.es/api/removeItem', {\r\n        params: {\r\n          id: id,\r\n          type_item: typeId\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  removePiece(id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.delete('http://digifolk.usal.es/api/removePiece', {\r\n        params: {\r\n          id: id\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  removeCollection(id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.delete('http://digifolk.usal.es/api/removeCol', {\r\n        params: {\r\n          id: id\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  editOneItem(id, id_type, newName) {\r\n    const obj = {\r\n      \"id\": id,\r\n      \"type_item\": id_type,\r\n      \"name\": newName\r\n    }\r\n    const param = JSON.stringify(obj)\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/editItem', param, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  fetchAllItems() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getListItems')\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  fetchAllPieces() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getListOfPieces')\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  fetchAllCollections() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getListOfCols')\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n  fetchAllUsers() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getListOfUsers')\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  },\r\n\r\n  getPiece(piece) {\r\n    const obj = {\r\n      \"id\": piece\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://digifolk.usal.es/api/getPiece', {\r\n        params: obj\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  advancedSearchPieces(query) {\r\n    const obj = {\r\n      ...query,\r\n      xml: '',\r\n      mei: '',\r\n      midi: '',\r\n      audio: '',\r\n      video: '',\r\n      user_id: query.user_id ? query.user_id : 0,\r\n      review: false\r\n    }\r\n    console.log(JSON.stringify(obj))\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/getPieceFromFilters', obj, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          debugger\r\n          resolve(response.data);\r\n        }\r\n        )\r\n        .catch(error => {\r\n          debugger\r\n          reject(error);\r\n        }\r\n        );\r\n    });\r\n  },\r\n  advancedSearchCollection(query) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('http://1000.127.151.18:8000/advancedSearchCol', {\r\n        params: query\r\n      })\r\n        .then(response => {\r\n          debugger\r\n          resolve(response.data);\r\n        }\r\n        )\r\n        .catch(error => {\r\n          debugger\r\n          reject(error);\r\n        }\r\n        );\r\n    });\r\n  },\r\n\r\n  importPieceFromExcel(file, id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/PieceFromExcel', \r\n      {\r\n        xml: '',\r\n        mei: '',\r\n        user_id: id,\r\n        file: file\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n        .then(() => {\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  importColFromExcel(file) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/ExcelToCol', \r\n      {\r\n        file: file\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n        .then(() => {\r\n          debugger\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          debugger\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  importDataFromMEI(json) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post('http://digifolk.usal.es/api/meitocsv', json, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  editUser(user, oldMail) {\r\n    return new Promise((resolve, reject) => {\r\n      const query = `http://digifolk.usal.es/api/editUser?email_old=${oldMail}`\r\n      axios.post(query, user\r\n      )\r\n        .then((response) => {\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  exportPieceToExcel(id) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(`http://digifolk.usal.es/api/piecesToCsv?piece_id=${id}`, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    })\r\n  }\r\n\r\n}\r\n","import API from '@/api'\r\n\r\nconst utils = {\r\n  parseFileToString(file) {\r\n    return new Promise((resolve) => {\r\n      if (file && file !== '') {\r\n        const reader = new FileReader();\r\n        reader.onload = () => { resolve(reader.result) }\r\n        reader.onerror = () => { resolve('') }\r\n        reader.readAsText(file);\r\n      } else {\r\n        resolve('');\r\n      }\r\n    })\r\n  },\r\n  parseFileToBase64(file) {\r\n    debugger\r\n    return new Promise((resolve) => {\r\n      if (file && file !== '') {\r\n        const reader = new FileReader();\r\n        reader.onload = () => { \r\n          debugger\r\n          const base64 = btoa(reader.result)\r\n          resolve(base64)\r\n        }\r\n        reader.onerror = () => { resolve('') }\r\n        reader.readAsBinaryString(file);\r\n      } else {\r\n        resolve('')\r\n      }\r\n    })\r\n  },\r\n  parseStringToFile(stringContent, fileName, mimeType) {\r\n    if (stringContent && stringContent !== '') {\r\n      const blob = new Blob([stringContent], { type: mimeType });\r\n      const file = new File([blob], fileName, { type: mimeType });\r\n      return [file]\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n  parseBase64ToFile(base64, fileName, mimeType) {\r\n    if (base64 && base64 !== '') {\r\n      const stringContent = atob(base64)\r\n      const blob = new Blob([stringContent], { type: mimeType });\r\n      const file = new File([blob], fileName, { type: mimeType });\r\n      return [file]\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n  parseCollectionToJSON(fields, separator, itemsIDs, getItemId) {\r\n    var collectionTemp = structuredClone(fields)\r\n    collectionTemp.relation = fields.relation.split(separator)\r\n    collectionTemp.subject = fields.subject.split(separator)\r\n    collectionTemp.title = fields.title.split(separator)\r\n    var type = itemsIDs[\"Rights\"]\r\n    collectionTemp.rights = getItemId(type, fields.rights)\r\n    type = itemsIDs[\"Types\"]\r\n    collectionTemp.source_type = getItemId(type, fields.source_type)\r\n    type = itemsIDs[\"Contributor Sources Roles\"]\r\n    collectionTemp.contributor_role = collectionTemp.contributor_role.map(contributor => ({\r\n      name: contributor.name,\r\n      role: getItemId(type, contributor.role)\r\n    }));\r\n    type = itemsIDs[\"Creator Sources Roles\"]\r\n    collectionTemp.creator_role = collectionTemp.creator_role.map(creator => ({\r\n      name: creator.name,\r\n      role: getItemId(type, creator.role)\r\n    }));\r\n    collectionTemp.code = collectionTemp.code ? collectionTemp.code : collectionTemp.col_id\r\n    return collectionTemp\r\n  },\r\n  parsePieceToJSON(fields, separator, itemsIDs, getItemId) {\r\n    const pieceTemp = structuredClone(fields)\r\n    pieceTemp.title = pieceTemp.title.split(separator)\r\n    pieceTemp.subject = pieceTemp.subject.split(separator)\r\n    pieceTemp.relationp = pieceTemp.relationp.split(separator)\r\n    pieceTemp.hasVersion = pieceTemp.hasVersion.split(separator)\r\n    pieceTemp.isVersionOf = pieceTemp.isVersionOf.split(separator)\r\n    var type = itemsIDs[\"Rights\"]\r\n    pieceTemp.rights = getItemId(type, fields.rights)\r\n    type = itemsIDs[\"Types\"]\r\n    pieceTemp.type_file = getItemId(type, fields.type_file)\r\n    type = itemsIDs[\"Rights\"]\r\n    pieceTemp.rightsp = getItemId(type, fields.rightsp)\r\n    type = itemsIDs[\"Types\"]\r\n    pieceTemp.type_piece = getItemId(type, fields.type_piece)\r\n    type = itemsIDs[\"Mode\"]\r\n    pieceTemp.mode = getItemId(type, fields.mode)\r\n    type = itemsIDs[\"XML Contributor Roles\"]\r\n    pieceTemp.contributor_role = pieceTemp.contributor_role.map(contributor => ({\r\n      name: contributor.name,\r\n      role: getItemId(type, contributor.role)\r\n    }));\r\n    type = itemsIDs[\"Creator Pieces Roles\"]\r\n    pieceTemp.creatorp_role = pieceTemp.creatorp_role.map(creator => ({\r\n      name: creator.name,\r\n      role: getItemId(type, creator.role)\r\n    }));\r\n    type = itemsIDs[\"Contributor Pieces Roles\"]\r\n    pieceTemp.contributorp_role = pieceTemp.contributorp_role.map(contributor => ({\r\n      name: contributor.name,\r\n      role: getItemId(type, contributor.role)\r\n    }))\r\n    if (pieceTemp.col_id) {\r\n      const temp = pieceTemp.col_id.split('-')\r\n      pieceTemp.col_id = temp ? parseInt(temp[0]) : null\r\n    } else {\r\n      pieceTemp.col_id = null\r\n    }\r\n    return pieceTemp\r\n  },\r\n\r\n  parseJSONToPiece(fields, separator, itemsIDs, collections, creadores, contribuidores, contribuidoresp) {\r\n    var final = structuredClone(fields)\r\n    final.title = final.title.join(separator)\r\n    var temp = itemsIDs.find(i => i.id === parseInt(final.rights))\r\n    if (temp)\r\n      final.rights = temp.name\r\n    else\r\n      final.rights = ''\r\n    temp = itemsIDs.find(i => i.id === parseInt(final.type_file))\r\n    if (temp)\r\n      final.type_file = temp.name\r\n    else\r\n      final.type_file = ''\r\n    final.contributor_role = final.contributor_role.map((c) => {\r\n      var item = itemsIDs.find(i => i.id === parseInt(c.role))\r\n      const temp = {\r\n        name: c.name,\r\n        role: item ? item.name : ''\r\n      }\r\n      if (contribuidores) contribuidores.push(structuredClone(temp))\r\n      return temp\r\n    })\r\n    temp = itemsIDs.find(i => i.id === parseInt(final.rightsp)).name\r\n    if (temp)\r\n      final.rightsp = temp\r\n    else\r\n      final.rightsp = ''\r\n    final.creatorp_role = final.creatorp_role.map((c) => {\r\n      var item = itemsIDs.find(i => i.id === parseInt(c.role))\r\n      const temp = {\r\n        name: c.name,\r\n        role: item ? item.name : ''\r\n      }\r\n      if (creadores) creadores.push(structuredClone(temp))\r\n      return temp\r\n    })\r\n    final.contributorp_role = final.contributorp_role.map((c) => {\r\n      var item = itemsIDs.find(i => i.id === parseInt(c.role))\r\n      const temp = {\r\n        name: c.name,\r\n        role: item ? item.name : ''\r\n      }\r\n      if (contribuidoresp) contribuidoresp.push(structuredClone(temp))\r\n      return temp\r\n    })\r\n    final.subject = final.subject.join(separator)\r\n    final.relationp = final.relationp.join(separator)\r\n    final.hasVersion = final.hasVersion.join(separator)\r\n    final.isVersionOf = final.isVersionOf.join(separator)\r\n    if (!final.spatial) {\r\n      final.spatial = {\r\n        country: '',\r\n        state: '',\r\n        location: ''\r\n      }\r\n    }\r\n    if (!final.temporal) {\r\n      final.temporal = {\r\n        century: '',\r\n        year: '',\r\n        decade: ''\r\n      }\r\n    }\r\n    temp = itemsIDs.find(i => i.id === parseInt(final.mode))\r\n    if (temp)\r\n      final.mode = temp\r\n    else\r\n      final.mode = ''\r\n    temp = collections.find(c => c.col_id === parseInt(final.col_id))\r\n    if (temp)\r\n      final.col_id = `${temp.col_id}-${temp.title}`\r\n    else\r\n      final.col_id = ''\r\n    return final\r\n  },\r\n\r\n  parseJSONToCollection(fields, separator, itemsIDs, creadores, contribuidores) {\r\n    debugger\r\n    var final = structuredClone(fields)\r\n    final.title = final ? final.title.join(separator) : ''\r\n    var item = itemsIDs.find(i => i.id === parseInt(final.rights))\r\n    final.rights = item ? item.name : ''\r\n    item = itemsIDs.find(i => i.id === parseInt(final.source_type))\r\n    final.source_type = item ? item.name : ''\r\n    final.creator_role = final.creator_role.map((c) => {\r\n      var item = itemsIDs.find(i => i.id === parseInt(c.role))\r\n      const temp = {\r\n        name: c.name,\r\n        role: item ? item.name : ''\r\n      }\r\n      if (creadores) creadores.push(structuredClone(temp))\r\n      return temp\r\n    })\r\n    final.contributor_role = final.contributor_role.map((c) => {\r\n      var item = itemsIDs.find(i => i.id === parseInt(c.role))\r\n      const temp = {\r\n        name: c.name,\r\n        role: item ? item.name : ''\r\n      }\r\n      if (contribuidores) contribuidores.push(structuredClone(temp))\r\n      return temp\r\n    })\r\n    final.subject = final.subject.join(separator)\r\n    final.relation = final.relation.join(separator)\r\n    return final\r\n  },\r\n\r\n  authenticated(token) {\r\n    return new Promise((resolve) => {\r\n      API.isAutenticated(token)\r\n        .then((res) => {\r\n          resolve(res)\r\n        })\r\n        .catch(() => {\r\n          resolve(false)\r\n        })\r\n    })\r\n  }\r\n}\r\n\r\nexport default utils;\r\n","/**\r\n * @module Actions\r\n * @description Este fichero muestra las diferentes acciones que realiza el sistema para proporcionar su funcionalidad.\r\n * En todas las funciones se utiliza el objeto contexto recibido automáticamente como primer parámetro. En concreto se utiliza\r\n * la propiedad commit para realizar las mutaciones del sistema.\r\n */\r\n\r\nimport * as types from './mutations-types'\r\nimport API from '@/api'\r\nimport { format } from 'date-fns'\r\nimport utils from '@/utils/utils'\r\n\r\nexport default {\r\n\r\n  loginUser({ commit }, { user, password }) {\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.LOGIN_USER_REQUEST)\r\n      API.logIn(user, password)\r\n        .then((res) => {\r\n          if (Array.isArray(res)) {\r\n            commit(types.LOGIN_USER_SUCCESS, { userInfo: res[0], token: res[1] })\r\n          } else {\r\n            commit(types.LOGIN_USER_FAILURE, { error: 'Wrong user or password.' })\r\n          }\r\n          resolve()\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          commit(types.LOGIN_USER_FAILURE, { error: 'Failed connection with server.' })\r\n          reject()\r\n        })\r\n    }\r\n    )\r\n  },\r\n\r\n\r\n  registerUser({ commit }, { email, password, name, surname, username, password2, institution }) {\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.REGISTER_USER_REQUEST)\r\n      if (password !== password2) {\r\n        commit(types.REGISTER_USER_FAILURE, { error: \"Passwords don't match\" })\r\n        reject()\r\n      } else {\r\n        API.register(email, name, surname, username, password, institution)\r\n          .then(() => {\r\n            commit(types.REGISTER_USER_SUCCESS)\r\n            resolve()\r\n          })\r\n          .catch(() => {\r\n            commit(types.REGISTER_USER_FAILURE, { error: 'Register error' })\r\n            reject()\r\n          })\r\n      }\r\n    })\r\n  },\r\n\r\n  changeUserPassword({ commit }, { id, currentPassword, newPassword }) {\r\n    API.changePassword(id, newPassword, currentPassword)\r\n      .then(() => {\r\n        commit(types.CHANGE_PASSWORD_SUCCESS)\r\n      })\r\n      .catch(error => {\r\n        commit(types.CHANGE_PASSWORD_FAILURE, { error })\r\n      })\r\n  },\r\n\r\n  removeAccount({ commit, state }, { password, email }) {\r\n    return new Promise((resolve, reject) => {\r\n      API.logIn(email, password)\r\n        .then(() => {\r\n          API.deleteAccount(email, state.user.userInfo.user_id, state.user.userInfo.username)\r\n            .then(() => {\r\n              debugger\r\n              commit(types.DELETE_ACCOUNT_SUCCESS)\r\n\r\n              resolve()\r\n            })\r\n            .catch((error) => {\r\n              debugger\r\n              commit(types.DELETE_ACCOUNT_FAILURE, { error: error })\r\n              reject()\r\n            })\r\n        })\r\n        .catch(() => {\r\n          debugger\r\n          commit(types.DELETE_ACCOUNT_FAILURE, { error: 'Incorrect password' })\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  logOut({ commit }) {\r\n    return new Promise((resolve) => {\r\n      commit(types.LOG_OUT_SUCCESS)\r\n      resolve()\r\n    })\r\n  },\r\n\r\n  saveDataCollection({ state, commit, getters }) {\r\n    const collectionTemp = utils.parseCollectionToJSON(state.collectionForm, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    collectionTemp.user_id = state.user.userInfo.user_id\r\n    const json = JSON.stringify(collectionTemp)\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.UPLOAD_COLLECTION_REQUEST)\r\n      API.uploadCollection(json)\r\n        .then(() => {\r\n          debugger\r\n          commit(types.UPLOAD_COLLECTION_SUCCESS)\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.UPLOAD_COLLECTION_FAILURE, { error: error.msg })\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  async saveDataPiece({ state, commit, getters }) {\r\n    var combinedForm = utils.parsePieceToJSON(state.pieceForm, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    combinedForm.xml = await utils.parseFileToBase64(state.pieceForm.xml[0])\r\n    combinedForm.mei = await utils.parseFileToBase64(state.pieceForm.mei[0])\r\n    combinedForm.midi = await utils.parseFileToBase64(state.pieceForm.midi[0])\r\n    combinedForm.user_id = state.user.userInfo.user_id\r\n    combinedForm.review = false\r\n    combinedForm.user_id = state.user.userInfo.user_id\r\n    var temp = 0\r\n    try {\r\n      temp = parseInt(state.pieceForm.col_id.split(state.separator)[0])\r\n    } catch (error) {\r\n      temp = 0\r\n    }\r\n    combinedForm.col_id = temp\r\n    if (state.user.userInfo.is_admin === true) {\r\n      combinedForm.review = true\r\n    } else {\r\n      combinedForm.review = false\r\n    }\r\n    const json = JSON.stringify(combinedForm)\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.UPLOAD_PIECE_REQUEST)\r\n      API.uploadPiece(json)\r\n        .then(() => {\r\n          commit(types.UPLOAD_PIECE_SUCCESS)\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.UPLOAD_PIECE_FAILURE, { error: error.msg })\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  async editPiece({ commit, getters, state }) {\r\n    debugger\r\n    var combinedForm = await utils.parsePieceToJSON(state.pieceForm, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    combinedForm.xml = await utils.parseFileToBase64(state.pieceForm.xml[0])\r\n    combinedForm.mei = await utils.parseFileToBase64(state.pieceForm.mei[0])\r\n    combinedForm.midi = await utils.parseFileToBase64(state.pieceForm.midi[0])\r\n    combinedForm.midi_obj = combinedForm.midi\r\n    combinedForm.user_id = state.user.userInfo.user_id\r\n    combinedForm.review = false\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.EDIT_PIECE_REQUEST)\r\n      API.editPiece(combinedForm)\r\n        .then(() => {\r\n          commit(types.EDIT_PIECE_SUCCESS, { piece: combinedForm, id: combinedForm.music_id })\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.EDIT_PIECE_FAILURE, error.msg)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  // Function called editCollection which is used to edit a collection. The process is similar to editPiece, but using the fields of the collection form, which can be found in the state.\r\n  editCollection({ commit, getters, state }) {\r\n    debugger\r\n    var collectionTemp = utils.parseCollectionToJSON(state.collectionForm, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    console.log(collectionTemp)\r\n    const json = JSON.stringify(collectionTemp);\r\n    console.log(json);\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.EDIT_COLLECTION_REQUEST)\r\n      API.editCollection(collectionTemp)\r\n        .then(() => {\r\n          commit(types.EDIT_COLLECTION_SUCCESS, { collection: state.collectionForm, id: collectionTemp.col_id })\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.EDIT_COLLECTION_FAILURE, error.msg)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  addContributor({ commit }, form) {\r\n    switch (form) {\r\n      case 'User':\r\n        commit(types.ADD_USER_CONTRIBUTOR)\r\n        break\r\n      case 'Sheet':\r\n        commit(types.ADD_SHEET_CONTRIBUTOR)\r\n        break\r\n      case 'Collection':\r\n        commit(types.ADD_COLLECTION_CONTRIBUTOR)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  },\r\n\r\n  addCreator({ commit }, form) {\r\n    switch (form) {\r\n      case 'Sheet':\r\n        commit(types.ADD_SHEET_CREATOR)\r\n        break\r\n      case 'Collection':\r\n        commit(types.ADD_COLLECTION_CREATOR)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  },\r\n\r\n  removeContributor({ commit }, { index, form }) {\r\n    switch (form) {\r\n      case 'User':\r\n        commit(types.REMOVE_USER_CONTRIBUTOR, index)\r\n        break\r\n      case 'Sheet':\r\n        commit(types.REMOVE_SHEET_CONTRIBUTOR, index)\r\n        break\r\n      case 'Collection':\r\n        commit(types.REMOVE_COLLECTION_CONTRIBUTOR, index)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  },\r\n\r\n  removeCreator({ commit }, { index, form }) {\r\n    switch (form) {\r\n      case 'Sheet':\r\n        commit(types.REMOVE_SHEET_CREATOR, index)\r\n        break\r\n      case 'Collection':\r\n        commit(types.REMOVE_COLLECTION_CREATOR, index)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  },\r\n\r\n  formatAndSaveDate({ commit }, { date, form }) {\r\n    const formattedDate = format(date[0], 'd MMMM yyyy')\r\n    switch (form) {\r\n      case 'User':\r\n        commit(types.SAVE_USER_DATE, formattedDate)\r\n        break\r\n      case 'Sheet':\r\n        commit(types.SAVE_SHEET_DATE, formattedDate)\r\n        break\r\n      case 'Collection':\r\n        commit(types.SAVE_COLLECTION_DATE, formattedDate)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  },\r\n\r\n  addNewItem({ commit }, { id, id_type, newItem }) {\r\n    return new Promise((resolve, reject) => {\r\n      API.addItem(id, id_type, newItem)\r\n        .then((res) => {\r\n          commit(types.ADD_NEW_ITEM_SUCCESS, res)\r\n          resolve()\r\n        })\r\n        .catch((err) => {\r\n          commit(types.ADD_NEW_ITEM_FAILURE, err)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  removeOneItem({ commit }, { item, id_type }) {\r\n    API.removeItem(item.id, id_type)\r\n      .then(() => {\r\n        commit(types.REMOVE_ITEM_SUCCESS, item)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.REMOVE_ITEM_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  editItem({ commit }, { id, id_type, newName }) {\r\n    API.editOneItem(id, id_type, newName)\r\n      .then(() => {\r\n        commit(types.EDIT_ITEM_SUCCESS, { id: id, id_type: id_type, newName: newName })\r\n      })\r\n      .catch((err) => {\r\n        commit(types.EDIT_ITEM_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  fetchItems({ commit }) {\r\n    API.fetchAllItems()\r\n      .then((res) => {\r\n        commit(types.FETCH_ITEMS, res)\r\n      })\r\n  },\r\n\r\n  fetchPieces({ commit }) {\r\n    API.fetchAllPieces()\r\n      .then((res) => {\r\n        commit(types.FETCH_PIECES, res)\r\n      })\r\n  },\r\n\r\n  fetchCollections({ commit }) {\r\n    API.fetchAllCollections()\r\n      .then((res) => {\r\n        commit(types.FETCH_COLLECTIONS, res)\r\n      })\r\n  },\r\n\r\n  getPieceInfo({ commit, state }, { piece, creadores, contribuidores, contribuidoresp }) {\r\n    return new Promise((resolve, reject) => {\r\n      API.getPiece(piece)\r\n        .then((res) => {\r\n          var final = utils.parseJSONToPiece(res, state.separator, state.defaultSelections.items, state.collections, creadores, contribuidores, contribuidoresp)\r\n          final.mei = utils.parseBase64ToFile(final.mei, 'MeiFile',)\r\n          final.xml = utils.parseBase64ToFile(final.xml, 'XMLFile', 'text/xml')\r\n          final.midi = utils.parseBase64ToFile(final.midi, 'MidiFile', 'audio/mid')\r\n          commit(types.GET_PIECE_SUCCESS, final)\r\n          resolve()\r\n        })\r\n        .catch((err) => {\r\n          commit(types.GET_PIECE_FAILURE, err)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  getReviewPiece({ state }, piece) {\r\n    return new Promise((resolve, reject) => {\r\n      API.getPiece(piece)\r\n        .then((res) => {\r\n          var final = utils.parseJSONToPiece(res, state.separator, state.defaultSelections.items, state.collections)\r\n          final.mei = utils.parseBase64ToFile(final.mei, 'MeiFile',)\r\n          final.xml = utils.parseBase64ToFile(final.xml, 'XMLFile', 'text/xml')\r\n          final.midi = utils.parseBase64ToFile(final.midi, 'MidiFile', 'audio/mid')\r\n          resolve(final)\r\n        })\r\n        .catch((err) => {\r\n          reject(err)\r\n        })\r\n    })\r\n  },\r\n\r\n\r\n  getCollectionInfo({ commit, state }, { collection, creadores, contribuidores }) {\r\n    API.getCollection(collection)\r\n      .then((res) => {\r\n        var final = utils.parseJSONToCollection(res[0], state.separator, state.defaultSelections.items, creadores, contribuidores)\r\n        commit(types.GET_COLLECTION_SUCCESS, final)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.GET_COLLECTION_FAILURE, err)\r\n      })\r\n    API.getPiecesCollection(collection)\r\n      .then((res) => {\r\n        const pieces = res.map((piece) => {\r\n          return {\r\n            music_id: piece.music_id,\r\n            title: piece.title.join(state.separator)\r\n          }\r\n        })\r\n        commit(types.GET_PIECES_COLLECTION_SUCCESS, pieces)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.GET_PIECES_COLLECTION_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  getReviewCollection({ state }, collection) {\r\n    return new Promise((resolve, reject) => {\r\n      API.getCollection(collection)\r\n        .then((res) => {\r\n          var final = utils.parseJSONToCollection(res[0], state.separator, state.defaultSelections.items)\r\n          resolve(final)\r\n        })\r\n        .catch((err) => {\r\n          reject(err)\r\n        })\r\n    })\r\n  },\r\n\r\n  resetPieceForm({ commit }) {\r\n    commit(types.RESET_PIECE_FORM)\r\n  },\r\n\r\n  resetCollectionForm({ commit }) {\r\n    commit(types.RESET_COLLECTION_FORM)\r\n  },\r\n\r\n  filteredSearch({ commit, state, getters }, { query, type }) {\r\n    return new Promise((resolve, reject) => {\r\n      if (type === 'pieces') {\r\n        var pieceQuery = utils.parsePieceToJSON(query, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n        debugger\r\n        API.advancedSearchPieces(pieceQuery)\r\n          .then((res) => {\r\n            resolve(res)\r\n          })\r\n          .catch((err) => {\r\n            commit(types.ADVANCED_SEARCH_FAILURE, err)\r\n            reject()\r\n          })\r\n      } else if (type === 'collections') {\r\n        var collectionQuery = utils.parseCollectionToJSON(query, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n        API.advancedSearchCollection(collectionQuery)\r\n          .then((res) => {\r\n            resolve(res)\r\n          })\r\n          .catch((err) => {\r\n            commit(types.ADVANCED_SEARCH_FAILURE, err)\r\n            reject()\r\n          })\r\n      }\r\n    })\r\n  },\r\n\r\n  importDataFromExcel({ commit, state }, { file }) {\r\n    API.importPieceFromExcel(file, state.user.userInfo.user_id)\r\n      .then(() => {\r\n        commit(types.IMPORT_DATA_SUCCESS)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.IMPORT_DATA_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  importDataFromMEI({ commit }, { file }) {\r\n    API.importDataFromMEI(file)\r\n      .then((res) => {\r\n        commit(types.IMPORT_DATA_SUCCESS, res)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.IMPORT_DATA_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  importColFromExcel({ commit }, { file }) {\r\n    API.importColFromExcel(file)\r\n      .then(() => {\r\n        commit(types.IMPORT_DATA_SUCCESS)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.IMPORT_DATA_FAILURE, err)\r\n      })\r\n  },\r\n  \r\n  importColFromMEI({ commit }, { file }) {\r\n    API.importColFromMEI(file)\r\n      .then((res) => {\r\n        commit(types.IMPORT_DATA_SUCCESS, res)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.IMPORT_DATA_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  fetchUsers({ commit }) {\r\n    API.fetchAllUsers()\r\n      .then((res) => {\r\n        commit(types.FETCH_USERS, res)\r\n      })\r\n  },\r\n\r\n  editUserInfo({ commit }, { user, oldMail }) {\r\n    API.editUser(user, oldMail)\r\n      .then(() => {\r\n        commit(types.EDIT_USER_SUCCESS, user)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.EDIT_USER_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  async validatePiece({ commit, state, getters }, piece) {\r\n    var combinedForm = utils.parsePieceToJSON(piece, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    combinedForm.xml = await utils.parseFileToBase64(piece.xml[0])\r\n    combinedForm.mei = await utils.parseFileToBase64(piece.mei[0])\r\n    combinedForm.midi = await utils.parseFileToBase64(piece.midi[0])\r\n    combinedForm.user_id = state.user.userInfo.user_id\r\n    combinedForm.review = true\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.EDIT_PIECE_REQUEST)\r\n      API.editPiece(combinedForm)\r\n        .then(() => {\r\n          commit(types.EDIT_PIECE_SUCCESS, { piece: piece, id: piece.music_id })\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.EDIT_PIECE_FAILURE, error.msg)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  deletePiece({ commit }, id) {\r\n    API.removePiece(id)\r\n      .then(() => {\r\n        commit(types.REMOVE_PIECE_SUCCESS, id)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.REMOVE_PIECE_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  validateCollection({ commit, state, getters }, collection) {\r\n    collection.review = true\r\n    var collectionTemp = utils.parseCollectionToJSON(collection, state.separator, state.defaultSelections.itemsIDs, getters.getItemId)\r\n    debugger\r\n    return new Promise((resolve, reject) => {\r\n      commit(types.EDIT_COLLECTION_REQUEST)\r\n      API.editCollection(collectionTemp)\r\n        .then(() => {\r\n          commit(types.EDIT_COLLECTION_SUCCESS, { collection: collection, id: collectionTemp.col_id })\r\n          resolve()\r\n        })\r\n        .catch((error) => {\r\n          commit(types.EDIT_COLLECTION_FAILURE, error.msg)\r\n          reject()\r\n        })\r\n    })\r\n  },\r\n\r\n  deleteCollection({ commit }, id) {\r\n    API.removeCollection(id)\r\n      .then(() => {\r\n        commit(types.REMOVE_COLLECTION_SUCCESS, id)\r\n      })\r\n      .catch((err) => {\r\n        commit(types.REMOVE_COLLECTION_FAILURE, err)\r\n      })\r\n  },\r\n\r\n  exportPieceToExcel(context, id) {\r\n    API.exportPieceToExcel(id)\r\n      .then((res) => {\r\n        const blob = new Blob([res]);\r\n\r\n        // Crear un objeto URL para el Blob\r\n        const url = window.URL.createObjectURL(blob);\r\n\r\n        // Crear un elemento <a> para el enlace de descarga\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = 'archivo_excel.csv'; // Nombre del archivo que se descargará\r\n\r\n        // Agregar el elemento <a> al documento y simular un clic para iniciar la descarga\r\n        document.body.appendChild(a);\r\n        a.click();\r\n\r\n        // Eliminar el elemento <a> y liberar el objeto URL después de la descarga\r\n        document.body.removeChild(a);\r\n        window.URL.revokeObjectURL(url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  },\r\n\r\n  /**\r\n   * Función para restablecer la contraseña del usuario.\r\n   * Se llama a la función de la API para que envíe un email de restablecimiento\r\n   * de contraseña al usuario.\r\n   * @param {string} email email del usuario\r\n   */\r\n  // resetPassword ({ commit }, email) {\r\n  //   return new Promise((resolve) => {\r\n  //     commit(types.RESET_PASSWORD_REQUEST)\r\n  //     API.resetPass(email)\r\n  //       .then(() => {\r\n  //         commit(types.RESET_PASSWORD_SUCCESS)\r\n  //         resolve()\r\n  //       })\r\n  //       .catch(error => commit(types.RESET_PASSWORD_FAILURE, { error }))\r\n  //   })\r\n  // },\r\n\r\n  /**\r\n   * Función para cambiar la contraseña del usuario.\r\n   * Se actualiza la contraseña del usuario llamando a la función \r\n   * correspondiente de la API.\r\n   * Se comprueba que el usuario ha introducido correctamente su contraseña actual\r\n   * realizando de nuevo el login y si es correcta se cambia por la nueva.\r\n   * @param {Object} usuario datos del usuario\r\n   * @prop {string} usuario.email email del usuario\r\n   * @prop {string} usuario.currentPassword contraseña actual del usuario\r\n   * @prop {string} usuario.newPassword nueva contraseña del usuario\r\n   * @prop {string} usuario.repeatedPassword repetición de la nueva contraseña\r\n   */\r\n  // changePassword ({commit}, {email, currentPassword, newPassword, repeatedPassword}) {\r\n  //   if (newPassword !== repeatedPassword) {\r\n  //     commit(types.CHANGE_PASSWORD_FAILURE, { error: 'Las contraseñas no coinciden' })\r\n  //   } else {\r\n  //     API.login(email, currentPassword)\r\n  //       .then(() => {\r\n  //         API.changeUserPassword(newPassword)\r\n  //           .then(() => {\r\n  //             commit(types.CHANGE_PASSWORD_SUCCESS)\r\n  //           })\r\n  //           .catch(error => {\r\n  //             if (error.code === 'auth/weak-password') {\r\n  //               commit(types.CHANGE_PASSWORD_FAILURE, { error: 'La contraseña debe contener 6 caracteres o más' })\r\n  //             } else {\r\n  //               commit(types.CHANGE_PASSWORD_FAILURE, { error })\r\n  //             }\r\n  //           })\r\n  //       })\r\n  //       .catch(() => commit(types.CHANGE_PASSWORD_FAILURE, { error: 'La contraseña actual es incorrecta' }))\r\n  //   }\r\n  // },\r\n\r\n\r\n  /**\r\n   * Función para el borrado de cuenta\r\n   * Se comprueban las credenciales del usuario para asegurar que realmente\r\n   * desea eliminar su cuenta. Después se borran todos los elementos de la base\r\n   * de datos del usuario y se elimina la cuenta del usuario.\r\n   * @param {Object} usuario datos del usuario\r\n   * @prop {array} usuario.images imagenes subidas por el usuario \r\n   * @prop {string} usuario.email email del usuario\r\n   * @prop {string} usuario.password contraseña del usuario \r\n   */\r\n  // deleteAccount ({commit}, {images, email, password}) {\r\n  //   return new Promise((resolve) => {\r\n  //     commit(types.DELETE_ACCOUNT_REQUEST)\r\n  //     API.login(email, password)\r\n  //     .then(async () => {\r\n  //       for (const element of images) {\r\n  //         await API.removePostById(element.id, element.esPublico)\r\n  //           .catch((error) => { commit(types.DELETE_ACCOUNT_FAILURE, {error: error}) })\r\n  //       }\r\n  //       API.deleteUserAccount()\r\n  //         .then(() => {\r\n  //           commit(types.DELETE_ACCOUNT_SUCCESS)\r\n  //           resolve()\r\n  //         })\r\n  //         .catch((error) => { commit(types.DELETE_ACCOUNT_FAILURE, {error: error}) })\r\n  //     })\r\n  //     .catch(() => commit(types.DELETE_ACCOUNT_FAILURE, { error: 'Credenciales introducidas incorrectas' }))\r\n  //   })\r\n  // },\r\n\r\n\r\n  /**\r\n   * Función que recupera los 20 reportes más recientes del sistema\r\n   * empezando por la imagen con id 'start'\r\n   * Si start está vacío se empieza desde el principio\r\n   * @param {start} id de la imagen reportada por la que queremos empezar\r\n   */\r\n  //  getReportes ({ commit }, start) {\r\n  //   commit(types.FETCH_IMAGES_REQUEST, start)\r\n  //   API.getReportss(start)\r\n  //     .then((images) => {\r\n  //       commit(types.FETCH_IMAGES_SUCCESS, images)\r\n  //     })\r\n  //     .catch ((error) => {\r\n  //       commit(types.FETCH_IMAGES_FAILURE, error)\r\n  //     })\r\n  // },\r\n\r\n  /**\r\n   * Función que recupera las 20 publicaciones más recientes del sistema\r\n   * empezando por la imagen con id 'start'\r\n   * Si start está vacío se empieza desde el principio\r\n   * @param {start} id de la publicación por la que queremos empezar\r\n   */\r\n\r\n\r\n  /**\r\n   * Función utilizada para el cierre de sesión del usuario\r\n   * Se llama a la función de la API correspondiente.\r\n   */\r\n  // signOut ({commit}) {\r\n  //   return new Promise((resolve, reject) => {})\r\n\r\n  // }\r\n}\r\n","/**\r\n * @module Getters\r\n * @description En este fichero se muestran los diferentes getters que se tienen del estado local del sistema.\r\n */\r\nimport utils from '@/utils/utils.js'\r\n\r\nexport default {\r\n  getItemsByType: (state) => (typeId) => {\r\n    return state.defaultSelections.items.filter(item => item.type_item === typeId)\r\n  },\r\n  getItemsNameByType: (state) => (typeId) => {\r\n    const items = state.defaultSelections.items.filter(item => item.type_item === typeId)\r\n    return items.map(item => item.name)\r\n  },\r\n  getMaxItemIdInType: (state) => (typeId) => {\r\n    const cifras = Math.abs(typeId).toString().length\r\n    const filteredItems = state.defaultSelections.items.filter(item => item.type_item === typeId)\r\n    if (filteredItems.length === 0)\r\n      return 0\r\n    const maxId = filteredItems.reduce((max, item) => (item.id > max ? item.id : max), 0)\r\n    return parseInt(maxId.toString().slice(cifras))\r\n  },\r\n  getItemId: (state) => (typeId, name) => {\r\n    const filteredItems = state.defaultSelections.items.filter(item => item.type_item === typeId)\r\n    const tmp = filteredItems.find(item => item.name === name)\r\n    if (tmp)\r\n      return tmp.id\r\n    else\r\n      return -1\r\n  },\r\n  getNamePieces: (state) => {\r\n    var pieces = state.pieces.filter(piece => piece.review)\r\n    return pieces.map(piece => {\r\n      const title = piece.title.join('|')\r\n      return {\r\n        id: piece.music_id,\r\n        title: title\r\n      }\r\n    })\r\n  },\r\n  getMei: (state) => {\r\n    return utils.parseFileToString(state.pieceForm.mei[0])\r\n  },\r\n  getMidi: (state) => {\r\n    return utils.parseFileToString(state.pieceForm.midi[0])\r\n  },\r\n  getNameCollections: (state) => {\r\n    var collections = state.collections.filter(collection => collection.review)\r\n    return collections.map(collection => {\r\n      const title = collection.title.join('|')\r\n      return {\r\n        id: collection.col_id,\r\n        title: title\r\n      }\r\n    })\r\n  },\r\n  getNameCollectionsWithId: (state) => {\r\n    return state.collections.map(collection => {\r\n      const title = collection.title.join('|')\r\n      return `${collection.id}-${title}`\r\n    })\r\n  },\r\n  getUserName: () => (user) => {\r\n    return `${user.user_id}-${user.username}`\r\n  },\r\n  getReviewPieces: (state) => {\r\n    const pieces = state.pieces.filter(piece => !piece.review)\r\n    return pieces.map(piece => {\r\n      const title = piece.title.join('|')\r\n      return {\r\n        id: piece.music_id,\r\n        title: title\r\n      }\r\n    })\r\n  },\r\n  getReviewCollections: (state) => {\r\n    const collections = state.collections.filter(collection => !collection.review)\r\n    return collections.map(collection => {\r\n      const title = collection.title.join('|')\r\n      return {\r\n        id: collection.col_id,\r\n        title: title\r\n      }\r\n    })\r\n  },\r\n  getFivePosts: (state) => {\r\n    var count = 0\r\n    return state.images.filter((image) => {\r\n      if (count < 5 && image.esPublico === true) {\r\n        count++\r\n        return true\r\n      }\r\n      return false\r\n    }).sort(function (x, y) {\r\n      return y.fecha.seconds - x.fecha.seconds\r\n    })\r\n  }\r\n}\r\n","/**\r\n * @module Store\r\n * \r\n * @description En este fichero se realiza la definición de la Store del sistema\r\n */\r\n\r\nimport { createLogger, createStore } from 'vuex'\r\n\r\nimport state from './state'\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\nimport getters from './getters'\r\nimport createPersistedState from \"vuex-plugin-persistedstate\";\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default createStore({\r\n  strict: debug,\r\n  plugins: debug ? [createLogger(), createPersistedState()] : [createPersistedState()],\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n})\r\n","<template>\r\n  <div>\r\n    <v-card class=\"mx-auto my-12\" max-width=\"374\">\r\n      <v-img height=\"250\" style=\"margin: 5px\" src=\"@/assets/logo.png\"></v-img>\r\n\r\n      <v-card-title>Login</v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"user\"\r\n              label=\"Username\"\r\n              required\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"password\"\r\n              :append-icon=\"visible ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible ? 'text' : 'password'\"\r\n              label=\"Password\"\r\n              counter\r\n              @click:append=\"visible = !visible\"\r\n              v-on:keyup.enter=\"logIn\"\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n\r\n        <v-btn color=\"deep-purple lighten-2\" text @click=\"logIn()\">\r\n          <span v-if=\"fetchingUser\">Iniciando sesion...</span\r\n          ><span v-else>Iniciar sesión</span>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      password: \"\",\r\n      visible: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"fetchingUser\", \"error\"]),\r\n    ...mapGetters([\"getUser\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"loginUser\"]),\r\n    logIn() {\r\n      if (this.user !== \"\" || this.password !== \"\") {\r\n        this.loginUser({ user: this.user, password: this.password })\r\n          .then(() => {\r\n            console.log(\"OK\");\r\n            this.user = this.password = \"\";\r\n            this.$router.push({ name: \"dashboard\" });\r\n          })\r\n          .catch(console.log);\r\n      } else {\r\n        this.$store.commit(\"LOGIN_USER_FAILURE\", {\r\n          error: \"Please, fill all the fields\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    console.log(process.env.VUE_APP_GTAT_ID)\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./AppLogin.vue?vue&type=template&id=0dba02ea\"\nimport script from \"./AppLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AppLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-container>\r\n    <v-row justify=\"center\">\r\n      <v-card max-width=\"1000\" width=\"100%\">\r\n        <router-view></router-view>\r\n      </v-card>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState([\"user\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchItems\", \"fetchCollections\", \"fetchPieces\"]),\r\n  },\r\n  mounted() {\r\n    this.fetchItems();\r\n    this.fetchCollections();\r\n    this.fetchPieces();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./AppDashboard.vue?vue&type=template&id=dfaddb5c\"\nimport script from \"./AppDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./AppDashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable */ /* eslint-disable */\r\n\r\n<template>\r\n  <div>\r\n    <v-card class=\"mx-auto my-12\" max-width=\"450\">\r\n      <template v-slot:progress>\r\n        <v-progress-linear\r\n          color=\"deep-purple\"\r\n          height=\"10\"\r\n          indeterminate\r\n        ></v-progress-linear>\r\n      </template>\r\n\r\n      <v-img height=\"250\" style=\"margin: 5px\" src=\"@/assets/logo.png\"></v-img>\r\n\r\n      <v-card-title>Register</v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"user\"\r\n              label=\"Username\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"name\"\r\n              label=\"Name\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"surname\"\r\n              label=\"Surname\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"email\"\r\n              label=\"Email\"\r\n              :rules=\"rulesEmail\"\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"institution\"\r\n              label=\"Institution\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"password\"\r\n              :append-icon=\"visible1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible1 ? 'text' : 'password'\"\r\n              label=\"Password\"\r\n              counter\r\n              @click:append=\"visible1 = !visible1\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\">\r\n            <v-text-field\r\n              v-model=\"password2\"\r\n              :append-icon=\"visible2 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n              :type=\"visible2 ? 'text' : 'password'\"\r\n              label=\"Repeat password\"\r\n              counter\r\n              @click:append=\"visible2 = !visible2\"\r\n              @keyup.enter=\"register()\"\r\n              :rules=\"rules\"\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n          color=\"deep-purple lighten-2\"\r\n          text\r\n          @click=\"register()\"\r\n          v-if=\"!fetchingUser\"\r\n        >\r\n          Registrarse\r\n        </v-btn>\r\n\r\n        <v-btn color=\"\" text @click=\"register()\" v-else> Registrando </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n    <v-dialog v-model=\"this.visibility\" persistent max-width=\"600\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5\"> Registro completado </v-card-title>\r\n        <v-card-text>\r\n          <v-row>\r\n            <v-col cols=\"12\">\r\n              <b>Ha sido registrado correctamente.</b><br />\r\n              Por favor, <b>verifique su cuenta</b> haciendo click en el link\r\n              que hemos enviado a su correo electrónico\r\n            </v-col>\r\n          </v-row>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"green darken-1\" text @click=\"continuar()\">\r\n            Continuar\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      name: \"\",\r\n      surname: \"\",\r\n      email: \"\",\r\n      institution: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      visible1: false,\r\n      visible2: false,\r\n      visibility: false,\r\n      rulesEmail: [\r\n        (value) => !!value || \"Required.\",\r\n        (value) => {\r\n          const pattern =\r\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n          return pattern.test(value) || \"Invalid e-mail.\";\r\n        },\r\n      ],\r\n      rules: [(value) => !!value || \"Required.\"],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"fetchingUser\", \"error\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"registerUser\"]),\r\n    register() {\r\n      if (\r\n        this.user !== \"\" &&\r\n        this.name !== \"\" &&\r\n        this.surname !== \"\" &&\r\n        this.email !== \"\" &&\r\n        this.password !== \"\" &&\r\n        this.password2 !== \"\"\r\n      ) {\r\n        this.registerUser({\r\n          email: this.email,\r\n          password: this.password,\r\n          name: this.name,\r\n          surname: this.surname,\r\n          username: this.user,\r\n          password2: this.password2,\r\n          institution: this.institution,\r\n        }).then(() => {\r\n          if (this.error === \"\") {\r\n            this.user = \"\";\r\n            this.name = \"\";\r\n            this.surname = \"\";\r\n            this.email = \"\";\r\n            this.institution = \"\";\r\n            this.password = \"\";\r\n            this.password2 = \"\";\r\n            this.visibility = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    continuar() {\r\n      this.visibility = false;\r\n      this.$router.push({ name: \"login\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./AppRegister.vue?vue&type=template&id=b728f792\"\nimport script from \"./AppRegister.vue?vue&type=script&lang=js\"\nexport * from \"./AppRegister.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport { createRouter, createWebHashHistory } from 'vue-router'\r\nimport store from '@/store'\r\nimport Login from '@/views/AppLogin.vue'\r\nimport Dashboard from '@/views/AppDashboard.vue'\r\nimport Register from '@/views/AppRegister.vue'\r\nimport utils from '@/utils/utils.js'\r\n\r\n\r\nconst router = createRouter({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'login',\r\n      component: Login,\r\n      meta: {\r\n        requiresAuth: false\r\n      }\r\n    },\r\n    {\r\n      path: '/register',\r\n      name: 'register',\r\n      component: Register\r\n    },\r\n    {\r\n      path: '/forgotPassword',\r\n      name: 'forgotPassword',\r\n      component: () => import('@/views/ForgotPass.vue'),\r\n    },\r\n    {\r\n      path: '/dashboard',\r\n      name: 'dashboard',\r\n      component: Dashboard,\r\n      meta: {\r\n        requiresAuth: true\r\n      },\r\n      redirect: () => {\r\n        return { name: 'viewPiece' }\r\n      },\r\n      children: [\r\n        {\r\n          path: 'pieces',\r\n          name: 'pieces',\r\n          children: [\r\n            {\r\n              path: 'viewPiece',\r\n              name: 'viewPiece',\r\n              component: () => import('@/views/ViewPiece.vue'),\r\n              meta: {\r\n                requiresAuth: true\r\n              }\r\n            },\r\n            {\r\n              path: 'sheetpiece',\r\n              name: 'sheetpiece',\r\n              component: () => import('@/views/SheetPiece.vue'),\r\n              meta: {\r\n                requiresAuth: true\r\n              }\r\n            },\r\n            {\r\n              path: 'uploadPiece',\r\n              name: 'uploadPiece',\r\n              component: () => import('@/views/UploadPiece.vue'),\r\n              meta: {\r\n                requiresAuth: true\r\n              },\r\n              children: [\r\n                {\r\n                  path: 'userForm',\r\n                  name: 'userForm',\r\n                  component: () => import('@/views/UserForm.vue'),\r\n                  meta: {\r\n                    requiresAuth: true\r\n                  },\r\n\r\n                },\r\n                {\r\n                  path: 'sheetForm',\r\n                  name: 'sheetForm',\r\n                  component: () => import('@/views/SheetForm.vue'),\r\n                  meta: {\r\n                    requiresAuth: true\r\n                  },\r\n                },\r\n              ],\r\n              redirect: () => {\r\n                return { name: 'userForm' }\r\n              },\r\n            },\r\n\r\n          ]\r\n        },\r\n        {\r\n          path: 'collections',\r\n          name: 'collections',\r\n          children: [\r\n            {\r\n              path: 'viewCollection',\r\n              name: 'viewCollection',\r\n              component: () => import('@/views/ViewCollection.vue'),\r\n              meta: {\r\n                requiresAuth: true\r\n              }\r\n            },\r\n            {\r\n              path: 'collectionForm',\r\n              name: 'collectionForm',\r\n              component: () => import('@/views/CollectionForm.vue'),\r\n              meta: {\r\n                requiresAuth: true\r\n              },\r\n\r\n            },\r\n          ]\r\n\r\n        },\r\n        {\r\n          path: 'modifyItems',\r\n          name: 'modifyItems',\r\n          component: () => import('@/views/ModifyItems.vue'),\r\n          meta: {\r\n            requiresAuth: true,\r\n            requiresAdmin: true\r\n          },\r\n        },\r\n        {\r\n          path: 'users',\r\n          name: 'users',\r\n          component: () => import('@/views/UsersList.vue'),\r\n          meta: {\r\n            requiresAuth: true,\r\n            requiresAdmin: true\r\n          },\r\n        },\r\n        {\r\n          path: 'profile',\r\n          name: 'profile',\r\n          component: () => import('@/views/MyProfile.vue'),\r\n          meta: {\r\n            requiresAuth: true\r\n          },\r\n        },\r\n        {\r\n          path: 'reviews',\r\n          name: 'reviews',\r\n          component: () => import('@/views/ReviewPiece.vue'),\r\n          meta: {\r\n            requiresAuth: true,\r\n            requiresAdmin: true\r\n          },\r\n        },\r\n\r\n      ]\r\n    },\r\n  ],\r\n  history: createWebHashHistory()\r\n})\r\n\r\nexport default router\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // instead of having to check every route record with\r\n  // to.matched.some(record => record.meta.requiresAuth)\r\n  if (to.meta.requiresAuth) {\r\n    utils.authenticated(store.state.user.tokenSession)\r\n      .then((authenticated) => {\r\n        if (!authenticated) {\r\n          next({ name: 'login' })\r\n        } else if (to.meta.requiresAdmin && !store.state.user.userInfo.is_admin) {\r\n          next({ name: 'dashboard' })\r\n        } else {\r\n          store.commit('REFRESH_TOKEN_SESSION', authenticated.access_token)\r\n          next()\r\n        }\r\n      })\r\n  } else {\r\n    if (store.state.user.tokenSession) {\r\n      utils.authenticated(store.state.user.tokenSession)\r\n        .then((authenticated) => {\r\n          if (authenticated){\r\n           store.commit('REFRESH_TOKEN_SESSION', authenticated.access_token)\r\n            next({ name: 'dashboard' })\r\n          }else\r\n            store.commit('REMOVE_TOKEN_SESSION')\r\n          next()\r\n        })\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n})\r\n\r\n","// Styles\r\nimport '@mdi/font/css/materialdesignicons.css'\r\nimport 'vuetify/styles'\r\n\r\n// Vuetify\r\nimport { createVuetify } from 'vuetify'\r\n\r\nexport default createVuetify(\r\n  // https://vuetifyjs.com/en/introduction/why-vuetify/#feature-guides\r\n)\r\n","/**\r\n * plugins/webfontloader.js\r\n *\r\n * webfontloader documentation: https://github.com/typekit/webfontloader\r\n */\r\n\r\nexport async function loadFonts () {\r\n  const webFontLoader = await import(/* webpackChunkName: \"webfontloader\" */'webfontloader')\r\n\r\n  webFontLoader.load({\r\n    google: {\r\n      families: ['Roboto:100,300,400,500,700,900&display=swap'],\r\n    },\r\n  })\r\n}\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport vuetify from './plugins/vuetify'\r\nimport { loadFonts } from './plugins/webfontloader'\r\nimport VueGtag from 'vue-gtag'\r\n\r\nloadFonts()\r\n\r\ncreateApp(App)\r\n  .use(router)\r\n  .use(store)\r\n  .use(vuetify)\r\n  .use(\r\n    VueGtag,\r\n    {\r\n      appName: 'Vue 3 Products',\r\n      pageTrackerScreenviewEnabled: true,\r\n      config: { id: 'ID_ANALYTICS'}\r\n    },\r\n    router\r\n  )\r\n  .mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + (chunkId === 461 ? \"webfontloader\" : chunkId) + \".\" + {\"35\":\"185e51b8\",\"84\":\"7a99568c\",\"135\":\"a35e8f9e\",\"179\":\"2955f4c7\",\"182\":\"333df49d\",\"229\":\"0a8ca4f8\",\"240\":\"13a6262c\",\"284\":\"44568a94\",\"461\":\"57eea3e3\",\"467\":\"56b6d514\",\"537\":\"0f204686\",\"621\":\"193d779b\",\"635\":\"34413dfd\",\"725\":\"016adb37\",\"785\":\"ae91f519\",\"804\":\"2ba498f3\",\"861\":\"b92b600f\",\"935\":\"e60651cc\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"84\":\"4c3f3b07\",\"179\":\"8068fda8\",\"467\":\"a05a1e7f\",\"537\":\"8068fda8\",\"635\":\"6f41c147\",\"725\":\"00174fa9\",\"785\":\"4c3f3b07\",\"804\":\"e02f0a1c\",\"935\":\"f99c633b\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"digifolk:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"84\":1,\"179\":1,\"467\":1,\"537\":1,\"635\":1,\"725\":1,\"785\":1,\"804\":1,\"935\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdigifolk\"] = self[\"webpackChunkdigifolk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","_createBlock","_component_v_app","_createVNode","_component_v_app_bar","app","color","dark","_hoisted_1","_component_v_img","alt","contain","src","_imports_0","transition","width","style","onClick","_cache","$event","_ctx","$router","push","name","_component_v_app_bar_title","user","tokenSession","_component_v_menu","location","activator","_withCtx","props","_component_v_btn","_mergeProps","icon","_component_v_icon","_hoisted_2","_component_v_list","_component_v_list_item","_component_v_list_item_title","goToPieceForm","_component_v_spacer","_hoisted_3","goToCollectionForm","userInfo","is_admin","_createElementBlock","_hoisted_4","$options","logout","otroError","_component_v_dialog","_component_v_alert","type","_component_v_main","_component_router_view","data","computed","mapState","get","this","error","set","value","$store","commit","methods","mapActions","logOut","then","resetCollectionForm","resetPieceForm","__exports__","render","fetchingCollection","fetchingPiece","separator","defaultSelections","items","itemsIDs","pieceForm","title","rights","creator","date","type_file","publisher","contributor_role","desc","rightsp","creatorp_role","datep","real_key","meter","tempo","instruments","genre","contributorp_role","alt_title","mode","descp","type_piece","formattingp","subject","language","relationp","hasVersion","isVersionOf","coverage","spatial","country","state","temporal","century","decade","year","xml","mei","midi","audio","video","user_id","col_id","collectionForm","creator_role","source_type","source","description","formatting","extent","relation","rights_holder","piece_col","pieces","collections","pieceSelected","role","collectionSelected","users","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE","CHANGE_PASSWORD_SUCCESS","CHANGE_PASSWORD_FAILURE","DELETE_ACCOUNT_REQUEST","DELETE_ACCOUNT_SUCCESS","DELETE_ACCOUNT_FAILURE","FETCH_IMAGES_REQUEST","FETCH_IMAGES_SUCCESS","FETCH_IMAGES_FAILURE","FETCH_COMMENTS_REQUEST","FETCH_COMMENTS_SUCCESS","FETCH_COMMENTS_FAILURE","LOG_OUT_SUCCESS","GEN_SOUNDSCAPE_REQUEST","GEN_SOUNDSCAPE_SUCCESS","GEN_SOUNDSCAPE_FAILURE","ADD_USER_CONTRIBUTOR","ADD_SHEET_CONTRIBUTOR","ADD_COLLECTION_CONTRIBUTOR","ADD_SHEET_CREATOR","ADD_COLLECTION_CREATOR","REMOVE_USER_CONTRIBUTOR","REMOVE_SHEET_CONTRIBUTOR","REMOVE_COLLECTION_CONTRIBUTOR","REMOVE_SHEET_CREATOR","REMOVE_COLLECTION_CREATOR","SAVE_COLLECTION_DATE","SAVE_SHEET_DATE","SAVE_USER_DATE","UPLOAD_COLLECTION_REQUEST","UPLOAD_COLLECTION_SUCCESS","UPLOAD_COLLECTION_FAILURE","EDIT_COLLECTION_REQUEST","EDIT_COLLECTION_SUCCESS","EDIT_COLLECTION_FAILURE","REMOVE_COLLECTION_REQUEST","REMOVE_COLLECTION_SUCCESS","REMOVE_COLLECTION_FAILURE","UPLOAD_PIECE_REQUEST","UPLOAD_PIECE_SUCCESS","UPLOAD_PIECE_FAILURE","EDIT_PIECE_REQUEST","EDIT_PIECE_SUCCESS","EDIT_PIECE_FAILURE","REMOVE_PIECE_REQUEST","REMOVE_PIECE_SUCCESS","REMOVE_PIECE_FAILURE","ADD_NEW_ITEM_SUCCESS","ADD_NEW_ITEM_FAILURE","REMOVE_ITEM_SUCCESS","REMOVE_ITEM_FAILURE","EDIT_ITEM_SUCCESS","EDIT_ITEM_FAILURE","FETCH_ITEMS","FETCH_COLLECTIONS","FETCH_PIECES","FETCH_USERS","GET_PIECE_SUCCESS","GET_PIECE_FAILURE","GET_COLLECTION_SUCCESS","GET_COLLECTION_FAILURE","GET_PIECES_COLLECTION_SUCCESS","GET_PIECES_COLLECTION_FAILURE","RESET_PIECE_FORM","RESET_COLLECTION_FORM","ADVANCED_SEARCH_FAILURE","IMPORT_DATA_FAILURE","IMPORT_DATA_SUCCESS","EDIT_USER_SUCCESS","EDIT_USER_FAILURE","types","fetchingUser","token","changingPass","collection","start","images","fetchingImages","length","noImages","comments","noComments","generatingSoundscape","soundscapeGenerated","url","id","element","find","image","esPublico","soundscape","gender","index","splice","identifier","right","contribuidores","structuredClone","creators","key","metre","instrument","contributors","altTitle","format","state2","indexToDelete","findIndex","item","newCol","split","piece","music_id","newPiece","filter","it","id_type","newName","editedItemIndex","type_item","colls","err","res","userIndex","u","logIn","password","URLSearchParams","append","Promise","resolve","reject","axios","post","headers","response","catch","register","email","surname","username","institution","objectTemp","param","JSON","stringify","isAutenticated","changePassword","newPassword","currentPassword","deleteAccount","delete","params","uploadCollection","json","console","log","uploadPiece","getCollection","obj","getPiecesCollection","editPiece","editCollection","query","addItem","typeId","newItem","removeItem","removePiece","removeCollection","editOneItem","fetchAllItems","fetchAllPieces","fetchAllCollections","fetchAllUsers","getPiece","advancedSearchPieces","review","advancedSearchCollection","importPieceFromExcel","file","importColFromExcel","importDataFromMEI","editUser","oldMail","exportPieceToExcel","utils","parseFileToString","reader","FileReader","onload","result","onerror","readAsText","parseFileToBase64","base64","btoa","readAsBinaryString","parseStringToFile","stringContent","fileName","mimeType","blob","Blob","File","parseBase64ToFile","atob","parseCollectionToJSON","fields","getItemId","collectionTemp","map","contributor","code","parsePieceToJSON","pieceTemp","temp","parseInt","parseJSONToPiece","creadores","contribuidoresp","final","join","i","c","parseJSONToCollection","authenticated","API","loginUser","Array","isArray","registerUser","password2","changeUserPassword","removeAccount","saveDataCollection","getters","msg","async","combinedForm","midi_obj","addContributor","form","addCreator","removeContributor","removeCreator","formatAndSaveDate","formattedDate","addNewItem","removeOneItem","editItem","fetchItems","fetchPieces","fetchCollections","getPieceInfo","getReviewPiece","getCollectionInfo","getReviewCollection","filteredSearch","pieceQuery","collectionQuery","importDataFromExcel","importColFromMEI","fetchUsers","editUserInfo","deletePiece","validateCollection","deleteCollection","context","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","getItemsByType","getItemsNameByType","getMaxItemIdInType","cifras","Math","abs","toString","filteredItems","maxId","reduce","max","slice","tmp","getNamePieces","getMei","getMidi","getNameCollections","getNameCollectionsWithId","getUserName","getReviewPieces","getReviewCollections","getFivePosts","count","sort","x","y","fecha","seconds","debug","process","createStore","strict","plugins","createLogger","createPersistedState","actions","mutations","_component_v_card","height","_component_v_card_title","_component_v_card_text","_component_v_row","_component_v_col","cols","_component_v_text_field","$data","label","required","visible","counter","onKeyup","_withKeys","_component_v_card_actions","text","mapGetters","created","VUE_APP_GTAT_ID","_component_v_container","justify","mounted","progress","_component_v_progress_linear","indeterminate","rules","rulesEmail","visible1","visible2","visibility","persistent","continuar","pattern","test","router","createRouter","routes","path","component","Login","meta","requiresAuth","Register","Dashboard","redirect","children","requiresAdmin","history","createWebHashHistory","beforeEach","to","from","next","store","access_token","createVuetify","loadFonts","webFontLoader","load","google","families","createApp","App","use","vuetify","VueGtag","appName","pageTrackerScreenviewEnabled","config","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","__proto__","t","ns","create","def","current","indexOf","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","f","e","chunkId","all","promises","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","clearTimeout","doneFns","parentNode","setTimeout","bind","target","head","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","rel","onLinkComplete","errorType","realHref","Error","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}